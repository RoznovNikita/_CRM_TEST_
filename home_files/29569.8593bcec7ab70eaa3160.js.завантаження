(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[29569],{683135:t=>{t.exports={"tv-spinner__container-rotate":"tv-spinner__container-rotate-aLqboHuu"}},947040:t=>{t.exports={fade:"fade-zUA5953i",hidden:"hidden-zUA5953i",floatingTooltip:"floatingTooltip-zUA5953i"}},882112:t=>{t.exports={}},685023:(t,e,i)=>{"use strict";i.d(e,{DEFAULT_SIZE:()=>s,spinnerSizeMap:()=>o});const s="large",o={mini:"xsmall",xxsmall:"xxsmall",xsmall:"xsmall",small:"small",medium:"medium",large:"large"}},195317:(t,e,i)=>{"use strict";i.d(e,{MiniChartPlot:()=>a});var s=i(650151),o=i(534741),r=i(175878),n=i(293659);class a extends n.MiniChartPlotBase{constructor(t,e,i,s,o){super(t,e,i),this._seriesDataSource=null,this._minBarIndex=null,this._maxBarIndex=null,this._studyPlots=s,this._options=o}requestData(){const t=this._getSeriesDataSource();this._minBarIndex=null,this._maxBarIndex=null,this._status.setValue(0),this._noData.setValue(null),t.modifySeries(this.extendedSymbol(),this.resolution(),this._miniChart.timeframe().value()),t.isStarted()||t.start()}clearSourceData(){var t;null===(t=this._seriesDataSource)||void 0===t||t.clearData(),this._studyPlots().forEach((t=>t.clearSourceData()))}moveSourceData(t){var e;null===(e=this._seriesDataSource)||void 0===e||e.moveData(t)}disconnect(){var t;null===(t=this._seriesDataSource)||void 0===t||t.stop()}isConnected(){var t;return Boolean(null===(t=this._seriesDataSource)||void 0===t?void 0:t.isStarted())}clearData(){super.clearData(),this._minBarIndex=null,this._maxBarIndex=null,null!==this._seriesDataSource&&(this._seriesDataSource.stop(),this.clearSourceData())}seriesDataSource(){return this._getSeriesDataSource()}firstBar(){return(0,n.isTimePointIndex)(this._minBarIndex)?this._bars().search(this._minBarIndex):this._bars().first()}lastBar(){return(0,n.isTimePointIndex)(this._maxBarIndex)?this._bars().search(this._maxBarIndex,o.PlotRowSearchMode.NearestLeft):this._bars().last()}minBarIndex(){return this._minBarIndex}maxBarIndex(){return this._maxBarIndex}_isMainPlot(){return!0}_dataUpdated(t,e,i){if(super._dataUpdated(t,e,i),!this._isLastSessionInterval.value()||!this._miniChart.supportRealtimeUpdates()||!i)return;const s=i.lastBarSession;0!==s&&1!==s||2!==e.lastBarSession||Promise.resolve().then((()=>{this._miniChart.setTimeframe(this._miniChart.timeframe().value(),!1,!0)}))}_onChartStyleChanged(){(0,s.assert)(0===this._studyPlots().length,"Dynamic style change is not supported if there are additional plots"),super._onChartStyleChanged()}_beforeDataReady(){this._studyPlots().forEach((t=>t.deleteView()))}_subscribeToSeriesDataSourceEvents(t){const e=t.dataEvents();e.symbolResolved().subscribe(this,this._onSymbolResolved),e.symbolNotPermitted().subscribe(this,this._onSymbolNotPermitted),e.symbolGroupNotPermitted().subscribe(this,this._onSymbolGroupNotPermitted),e.symbolInvalid().subscribe(this,this._onSymbolInvalid),e.symbolError().subscribe(this,this._onSymbolError),e.intradayExchangeNotPermitted().subscribe(this,this._onResolutionOrExchangeNotPermittedError),
e.customIntervalNotPermitted().subscribe(this,this._onResolutionOrExchangeNotPermittedError),e.completed().subscribe(this,this._onDataCompleted),e.seriesError().subscribe(this,this._onDataError),e.seriesTimeFrame().subscribe(this,this._onTimeFrame),e.dataUpdated().subscribe(this,this._onDataInternal),e.created().subscribe(null,(()=>performance.mark("RFD",{detail:"Request first data"})),!0),e.dataUpdated().subscribe(null,(()=>{performance.mark("FDR",{detail:"First data response"}),performance.measure("Response idle","RFD","FDR")}),!0)}_unsubscribeFromSeriesDataSourceEvents(t){const e=t.dataEvents();e.symbolResolved().unsubscribe(this,this._onSymbolResolved),e.symbolNotPermitted().unsubscribe(this,this._onSymbolNotPermitted),e.symbolGroupNotPermitted().unsubscribe(this,this._onSymbolGroupNotPermitted),e.symbolInvalid().unsubscribe(this,this._onSymbolInvalid),e.symbolError().unsubscribe(this,this._onSymbolError),e.intradayExchangeNotPermitted().unsubscribe(this,this._onResolutionOrExchangeNotPermittedError),e.customIntervalNotPermitted().unsubscribe(this,this._onResolutionOrExchangeNotPermittedError),e.completed().unsubscribe(this,this._onDataCompleted),e.seriesError().unsubscribe(this,this._onDataError),e.seriesTimeFrame().unsubscribe(this,this._onTimeFrame),e.dataUpdated().unsubscribe(this,this._onDataInternal)}_getSeriesDataSource(){return null===this._seriesDataSource&&(this._seriesDataSource=new r.SeriesDataSource(this.chartSession(),"s"),this._subscribeToSeriesDataSourceEvents(this._seriesDataSource)),this._seriesDataSource}_bars(){return this._getSeriesDataSource().data().bars()}_onTimeFrame(t,e){this._minBarIndex=t,this._maxBarIndex=e,this.updateData(!1),this._studyPlots().forEach((t=>t.updateData(!1,!0)))}_onDataInternal(t,e,i){this._onData(e||null==i?void 0:i.index)}}},668616:(t,e,i)=>{"use strict";i.d(e,{LightweightMiniChart:()=>H});var s=i(745835),o=i(852290),r=i(448874),n=i(650151),a=i(790188),l=i(444372),h=i(201089),c=i(538660),u=i(208817),d=i(223699),m=i(246733),_=i(941285),p=i(157954),g=i(943994),v=i(714688),b=i(464539),f=i(195317),y=i(428123),S=i(401580),w=i(938550),T=i(947040);const C=(0,h.getLogger)("Chart.MiniChart"),D=new g.VolumeFormatter,P={value:"12M",type:"period-back"},M={top:.01,bottom:.01},k={chartType:"area",lineWidth:2,priceLineVisible:!1,crosshairMarkerVisible:!1,lastValueVisible:!1,scaleMargins:M},L={lineWidth:2,priceLineVisible:!1,crosshairMarkerVisible:!1,lastValueVisible:!1,scaleMargins:M},F={priceLineVisible:!1,lastValueVisible:!1,scaleMargins:M},R={priceLineVisible:!1,lastValueVisible:!1,scaleMargins:M},x={scaleMargins:M},E={scaleMargins:{top:.8,bottom:0},priceScaleId:"overlay",upColor:(0,m.applyTransparency)(a.colorsPalette["color-minty-green-400"],50),downColor:(0,m.applyTransparency)("#ef5350",50),visible:!1,lastValueVisible:!1,priceLineVisible:!1},O={visible:!1,color:a.colorsPalette["color-tv-blue-500"],lineWidth:1,length:9,lastValueVisible:!1,priceLineVisible:!1},I={spinner:{visible:!1,width:4,color:a.colorsPalette["color-brand"]},fade:{visible:!1},clearDataOnSymbolChange:!0,
clearDataOnTimeframeChange:!0},V={onFirstData:null,description:"",showDescription:!0,valuesTracking:"0",timeframe:{visible:!1,value:P.value},chartOptions:{minWidth:0,minHeight:0,chart:{grid:{horzLines:{color:"rgba(120, 123, 134, 0.1)",visible:!1},vertLines:{color:"#ffffff",visible:!1}},crosshair:{horzLine:{visible:!1,style:3,width:1,labelVisible:!1},vertLine:{visible:!1,style:3,width:1,labelVisible:!1}},layout:{fontFamily:"Trebuchet MS",fontSize:10,textColor:"#83888D",background:{type:s.ColorType.Solid,color:"transparent"}},watermark:{visible:!1,color:"#83888D",fontSize:12},rightPriceScale:{visible:!0,borderVisible:!1,entireTextOnly:!0,mode:s.PriceScaleMode.Normal},leftPriceScale:{visible:!1,borderVisible:!1,entireTextOnly:!0,mode:s.PriceScaleMode.Normal},timeScale:{borderVisible:!1,timeVisible:!0,secondsVisible:!1,lockVisibleTimeRangeOnResize:!0},handleScale:!1,handleScroll:!1},series:k,volume:E,ma:O,loading:I}},U={"1y":{value:"12M",type:"period-back"},"5y":{value:"60M",type:"period-back"},max:{value:"ALL",type:"period-back"}};const A=(0,r.default)(m.resetTransparency);function N(t,e,i,o){const r={};switch(i){case s.TickMarkType.Year:r.year="numeric";break;case s.TickMarkType.Month:r.month="short";break;case s.TickMarkType.DayOfMonth:r.day="numeric";break;case s.TickMarkType.Time:r.hour12="12-hours"===t,r.hour="2-digit",r.minute="2-digit";break;case s.TickMarkType.TimeWithSeconds:r.hour12="12-hours"===t,r.hour="2-digit",r.minute="2-digit",r.second="2-digit"}const n=new Date(1e3*e);return new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()).toLocaleString(o,r)}window.lightweightMiniChartInstances=window.lightweightMiniChartInstances||{};const B=window.lightweightMiniChartInstances;let W=0;const z={acquire:()=>(0,y.ownership)(new c.ChartSession(window.ChartApiInstance,!0))};class H{constructor(t,e,i,r,n){var a,l,h,c,d,m;this._isDestroyed=!1,this._elTimeframe=null,this._timeframeView=null,this._studyPlots=[],this._tickmarks=new Map,this._chartSession=null,this._chartSessionSubscriptions=null,this._connectCallback=null,this._connected=!1,this._loadErrorTimeout=null,this._isLoading=!1,this._spinner=null,this._floatingTooltip=null,this._onCrosshairMoveBound=null,this._atomicUpdateIsGoing=!1,this._seriesUpDownColors={},this._isDWMResolution=!1,this._updateTimerId=null,this._width=new S.WatchedValue(0),this._height=new S.WatchedValue(0),this._status=new S.WatchedValue("loading"),this.resizeByContainer=()=>{const t=this.container().clientHeight,e=this.container().clientWidth;this._widget.options().autoSize||this._widget.applyOptions({height:t,width:e}),this._mainPlot.fitContent(),this._width.setValue(e),this._height.setValue(t)},this._onPlotStatusChanged=()=>{const t=this._mainPlot.status().value(),e=this._studyPlots.every((t=>0!==t.status().value()));switch(t){case 3:e&&this._onPlotsDataReady();break;case 2:this._onMainPlotDataError();break;case 1:this._onMainPlotSymbolResolvingError()}
if(this._options.chartOptions.loading.fade.visible)switch(t){case 0:this._innerContainer.classList.add(T.fade);break;case 2:case 1:case 3:this._innerContainer.classList.remove(T.fade)}this._updateStatus()},this._timeFrameOptions=null!==(l=null===(a=null==r?void 0:r.timeframe)||void 0===a?void 0:a.options)&&void 0!==l?l:(0,u.getMiniTimeFrameOptions)(),this._options=(0,o.default)({},V,r),this._chartSessionProvider=null!=n?n:z,this._container=e,this._innerContainer=e.ownerDocument.createElement("div"),this._innerContainer.style.position="relative",this._innerContainer.style.direction="ltr",e.appendChild(this._innerContainer);const _=(null===(h=this._options.chartOptions)||void 0===h?void 0:h.chart.autoSize)?null===(c=null==r?void 0:r.chartOptions)||void 0===c?void 0:c.minHeight:void 0,p=(null===(d=this._options.chartOptions)||void 0===d?void 0:d.chart.autoSize)?e.clientWidth:void 0;this._widget=(0,s.createChart)(this._innerContainer,{...null===(m=this._options.chartOptions)||void 0===m?void 0:m.chart,height:_,width:p}),this._tooltipContainer=i,this._timeframe=new w.WatchedObject({type:"period-back",value:this._options.timeframe.value}),this._mainPlot=this._createMainPlot(t),this.setTimeframe(this._timeframe.value(),!0),this.connect(),this._createFloatingTooltip(),window.addEventListener("resize",this.resizeByContainer),this._updateSeriesUpDownColors(),this.resizeByContainer(),W+=1,this._innerContainer.dataset.lightweightMiniChartId=`${W}`,B[this._innerContainer.dataset.lightweightMiniChartId]=this}container(){return this._container}getChartContainer(){var t,e,i,s,o;return null!==(o=null===(s=null===(i=null===(e=null===(t=this._container.getElementsByTagName("div").item(0))||void 0===t?void 0:t.getElementsByTagName("table").item(0))||void 0===e?void 0:e.getElementsByTagName("tr").item(0))||void 0===i?void 0:i.getElementsByTagName("td").item(1))||void 0===s?void 0:s.getElementsByTagName("div").item(0))&&void 0!==o?o:null}width(){return this._width.readonly()}height(){return this._height.readonly()}status(){return this._status.readonly()}seriesDataSource(){return this._mainPlot.seriesDataSource()}supportRealtimeUpdates(){return Boolean(this._options.doNotDisconnectOnDataReady)}connect(t){if("function"==typeof t&&(this._connectCallback=t),this._clearReconnectionTimeout(),!this.connected()){if(this._showLoading(),this._mainPlot.clearData(),this._studyPlots.forEach((t=>t.clearData())),this._chartSession||(this._chartSession=this._chartSessionProvider.acquire()),!this._chartSessionSubscriptions){const t=this._chartSession.isConnected().spawn();t.subscribe(this._onChartSessionIsConnectedChanged.bind(this),{callWithLast:!0}),this._chartSession.criticalError().subscribe(this,this._onChartSessionCriticalError),this._chartSessionSubscriptions={release:()=>{var e;t.destroy(),null===(e=this._chartSession)||void 0===e||e.criticalError().unsubscribeAll(this)}}}this._chartSession.connect(this._onData.bind(this)),this._chartSession.isConnected().value()&&this._requestData(),this._clearLoadErrorTimeout(),
this._loadErrorTimeout=setTimeout((()=>{this.showMessage(l.t(null,void 0,i(516817))),"function"==typeof this._options.onFirstData&&(this._options.onFirstData(),this._options.onFirstData=null)}),15e3)}}disconnect(){var t;this._studyPlots.forEach((t=>t.disconnect())),this._mainPlot.disconnect(),this._chartSession&&(null===(t=this._chartSessionSubscriptions)||void 0===t||t.release(),this._chartSessionSubscriptions=null,this._chartSession.disconnect()),this._connected=!1,this._clearLoadErrorTimeout()}connected(){return Boolean(this._connected&&this._chartSession&&this._chartSession.isConnected().value())}setTimeframe(t,e,i){const s=this._timeframe.value();let o=t;const r=U[o.value];void 0!==r&&(o=r);const n=this._timeframeIsAvailable(o)?o:P;this._timeframe.setValue(n),this._activeRange=this._timeframe.value().value,this._timeframeView&&this._options.timeframe.visible&&this._timeframeView.update({activeRange:this._activeRange}),(!e&&s!==this._timeframe.value()||i)&&this._requestDataOnTimeframeChange()}chartSession(){return(0,n.ensureNotNull)(this._chartSession)}widget(){return this._widget}timeframe(){return this._timeframe.readonly()}setTimeFrameOptions(t,e){if(t===this._timeFrameOptions)return;const i=this.resolution();this._timeFrameOptions=t,e?this.setTimeframe(e):this.resolution()!==i&&this._requestDataOnTimeframeChange(),this._initTimeframesRenderer()}timeFrameOptions(){return this._timeFrameOptions}resolution(){const t=this._timeFrameOptions.find((t=>t.value.value===this.timeframe().value().value));return(0,n.ensureDefined)(null==t?void 0:t.targetResolution)}changeSymbol(t,e){void 0!==e&&this._updateSeriesOptions(e),this._options.chartOptions.loading.clearDataOnSymbolChange&&(this._mainPlot.clearData(),this._mainPlot.deleteView(),this._studyPlots.forEach((t=>t.clearData())),this._studyPlots.forEach((t=>t.deleteView()))),this._mainPlot.setSymbol(t,this._options.chartOptions.series),this._mainPlot.requestData(),this._studyPlots.forEach((t=>t.requestData())),this.connect()}updateSeriesOptions(t){this._atomicUpdateIsGoing=!0,this._updateSeriesOptions(t),this._updateSeriesUpDownColors(),this._mainPlot.updateSeriesOptions(t),this._atomicUpdateIsGoing=!1}getSeriesOptions(){return this._mainPlot.currentSeriesOptions()}showMessage(t){this._hideLoading(),this._mainPlot.deleteView(),this._studyPlots.forEach((t=>t.deleteView())),this._widget.applyOptions({watermark:{visible:!0,text:t}})}hideMessage(){this._widget.applyOptions({watermark:{visible:!1}})}from(){const t=this._timeFrameOptions.find((t=>t.value.value===this.timeframe().value().value));return[null==t?void 0:t.from]}enable(t){this.connect(t)}disable(){this.disconnect()}destroy(){var t,e;window.removeEventListener("resize",this.resizeByContainer),this.disconnect(),this._destroyFloatingTooltip(),this._widget.remove(),this._mainPlot.symbolResolved().unsubscribeAll(null),this._mainPlot.timeFrameInvalidated().unsubscribeAll(this),this._mainPlot.destroy(),this._studyPlots.forEach((t=>t.destroy())),null===(t=this._timeframeView)||void 0===t||t.destroy(),
null===(e=this._chartSession)||void 0===e||e.release(),delete B[this._innerContainer.dataset.lightweightMiniChartId],this._isDestroyed=!0}updateAvailableTimeframes(){this._mainPlot.symbolInfo()?(this._timeframeView&&this._options.timeframe.visible&&this._timeframeView.update({ranges:this._getAvailableTimeFrames()}),this.setTimeframe(this._timeframe.value())):C.logWarn("Updating available resolutions without full symbol info")}mainPlot(){return this._mainPlot}hasStudyPlots(){return this._studyPlots.length>0}studyPlots(){return this._studyPlots}addStudyPlot(t){return this._studyPlots.push(t),t.status().subscribe(this._onPlotStatusChanged),this.connected()?t.requestData():this.connect(),t.forcePercentageMode()&&this._mainPlot.switchToPercentageScaleMode(),this._updateStatus(),{noData:t.noData(),status:t.status(),remove:()=>{this._removeStudyPlot(t)},symbol:()=>t.symbol(),extendedSymbol:()=>t.extendedSymbol(),options:()=>t.currentSeriesOptions()}}indexToTime(t){var e,i;return null!==(i=null===(e=this._tickmarks.get(t))||void 0===e?void 0:e.time)&&void 0!==i?i:null}subscribeCrosshairMove(t){this.unsubscribeCrosshairMove(),this._onCrosshairMoveBound=e=>{t(this._onCrosshairMoveHandler(e))},this._widget.subscribeCrosshairMove(this._onCrosshairMoveBound)}unsubscribeCrosshairMove(){this._onCrosshairMoveBound&&this._widget.unsubscribeCrosshairMove(this._onCrosshairMoveBound)}updateChartRightMarginAccordingToTitles(){const t=[this.mainPlot(),...this._studyPlots].map((t=>t.currentSeriesOptions().title)).map((t=>{var e;return null!==(e=null==t?void 0:t.length)&&void 0!==e?e:0})),e=Math.max(...t);this.mainPlot().updateHorzMargins({rightPx:12*e}),this.mainPlot().fitContent()}activeRange(){return this._activeRange}_getChartPlotClass(){return f.MiniChartPlot}_createMainPlot(t){const e=new(this._getChartPlotClass())(this,this._options.chartOptions.series,this._options.chartOptions.volume,(()=>this._studyPlots),this._options.mainPlotOptions);return e.setSymbol(t),e.symbolResolved().subscribe(this,this._onSymbolResolved),e.timeFrameInvalidated().subscribe(this,this._onTimeFrameInvalidated),e.status().subscribe(this._onPlotStatusChanged),e}_removeStudyPlot(t){const e=this._studyPlots.indexOf(t);(0,n.assert)(-1!==e),this._studyPlots.splice(e,1),t.status().unsubscribe(this._onPlotStatusChanged),t.deleteView(),t.clearData(),t.destroy(),this._studyPlots.every((t=>!t.forcePercentageMode()))&&this._mainPlot.restoreOriginalScaleMode(),this._updateStatus()}_updateSeriesUpDownColors(){var t,e;const i=this._options.chartOptions.series;switch(i.chartType){case"candlesticks":this._seriesUpDownColors.Candlestick={up:null!==(t=i.borderUpColor)&&void 0!==t?t:i.upColor,down:null!==(e=i.borderDownColor)&&void 0!==e?e:i.downColor};break;case"bars":this._seriesUpDownColors.Bar={up:i.upColor,down:i.downColor}}}_updateSeriesOptions(t){this._options.chartOptions.series=function(t){var e;let i;switch(null!==(e=t.chartType)&&void 0!==e?e:"area"){case"bars":i=F;break;case"candlesticks":i=R;break;case"area":i=k;break;case"line":i=L;break;case"histogram":i=x}
return(0,o.default)({},i,t)}(t)}_onPlotsDataReady(){"function"==typeof this._options.onFirstData&&(this._options.onFirstData(),this._options.onFirstData=null),this._hideLoading(),this.hideMessage(),this._clearLoadErrorTimeout(),this._options.doNotDisconnectOnDataReady||this.disconnect(),this._createReconnectionTimeout()}_onMainPlotDataError(){this._hideLoading(),this.showMessage(l.t(null,void 0,i(482751))),this._clearLoadErrorTimeout(),this.disconnect()}_onMainPlotSymbolResolvingError(){this._hideLoading(),this.showMessage(l.t(null,void 0,i(516817))),this._clearLoadErrorTimeout(),this.disconnect()}_createReconnectionTimeout(){if(this._options.doNotDisconnectOnDataReady)return;const t=this._options.updateTimeout;void 0!==t&&t>0&&(this._updateTimerId=setTimeout((()=>{this._updateTimerId=null,this.connected()?this._requestData():this.connect()}),t))}_clearReconnectionTimeout(){null!==this._updateTimerId&&(clearInterval(this._updateTimerId),this._updateTimerId=null)}_clearLoadErrorTimeout(){this._loadErrorTimeout&&(clearTimeout(this._loadErrorTimeout),this._loadErrorTimeout=null)}_onCrosshairMoveHandler(t){var e;if(this._atomicUpdateIsGoing)return;const{point:s,time:o,seriesData:r}=t,a=this._mainPlot.series(),h=this._mainPlot.volume();if(void 0===s||void 0===o)return;const c=r.get(a);if(void 0===c)return;let u;const d=[],_=a.priceFormatter();if("Area"===a.seriesType()||"Line"===a.seriesType()){u="line";const{value:t,color:i}=c,s=this._mainPlot.currentSeriesOptions();let o;"line"===s.chartType?o=i||s.color:"area"===s.chartType&&(o=s.lineColor),d.push({title:(null===(e=this._mainPlot.symbolInfo())||void 0===e?void 0:e.name)||"",value:_.format(t),color:o})}else{u="ohlc";const{open:t,high:e,low:s,close:o}=c,r=function(t,e){const i=t?e.up:e.down;return A(i)}(o>=t,(0,n.ensureDefined)(this._seriesUpDownColors[a.seriesType()]));[[l.t(null,{context:"in_legend"},i(978155)),_.format(t)],[l.t(null,{context:"in_legend"},i(556723)),_.format(e)],[l.t(null,{context:"in_legend"},i(304292)),_.format(s)],[l.t(null,{context:"in_legend"},i(977297)),_.format(o)]].forEach((([t,e])=>{d.push({value:e,title:t,color:r})}))}const p=h&&r.get(h);if(p){const{value:t,color:e}=p;d.push({title:l.t(null,{context:"in_legend"},i(973010)),value:D.format(t),color:e&&(0,m.resetTransparency)(e)})}this._studyPlots.forEach((e=>{d.push(...e.getLegendData(t))}));const g=new Date(1e3*o);let v=this._tooltipDateTimeFormatter.format(g);return this._isDWMResolution||(v+=" "+function(t){if(0===t)return"UTC";const e=Math.abs(t),i=Math.floor(e/60),s=e-60*i;return`UTC${Math.sign(t)<=0?"+":"-"}${i}${s>0?`:${s}`:""}`}(g.getTimezoneOffset())),{point:s,time:v,prices:d,type:u}}_initTimeframesRenderer(){var t,e,s;if(!this._options.timeframe.visible)return;{const i=this._timeFrameOptions.length<2;if(null===(t=this._timeframeView)||void 0===t||t.update({hidden:i}),null===(s=null!==(e=this._elTimeframe)&&void 0!==e?e:this._options.timeframe.container)||void 0===s||s.classList.toggle(T.hidden,i),i)return}if(this._elTimeframe)return
;this._options.timeframe.container?this._elTimeframe=this._options.timeframe.container:(this._elTimeframe=document.createElement("div"),this._container.appendChild(this._elTimeframe));const o=(t,e)=>{const i=this._timeFrameOptions.length<2,s=(0,n.ensureNotNull)(this._elTimeframe);s.classList.toggle(T.hidden,i),this._timeframeView=new t.TimeFrameViewRenderer(s,{name:"minichart_timeframe",activeRange:this._activeRange,ranges:this._getAvailableTimeFrames(),onSelectRange:t=>{this.setTimeframe({value:t,type:"period-back"})},size:this._options.timeframe.size,theme:e,hidden:i})};Promise.all([i.e(72639),i.e(89053),i.e(50690),i.e(31891)]).then(i.bind(i,358450)).then((t=>{(this._options.timeframe.getTheme||(()=>Promise.resolve(void 0)))().then((e=>o(t,e)))}))}_getAvailableTimeFrames(){const t=[];for(const e of this._timeFrameOptions)this._timeframeIsAvailable(e.value)&&t.push({value:e.value.value,text:e.text,description:e.description});return t}_timeframeIsAvailable(t){const e=this._timeFrameOptions.find((e=>e.value.value===t.value));if(!e)return!1;const i=this.mainPlot().symbolInfo();if(!i||i.pro_name!==this._mainPlot.symbol())return!0;if(i.has_intraday)return!0;return!d.Interval.parse(e.targetResolution).isIntraday()}_onChartSessionIsConnectedChanged(t){var e;t!==this._connected&&(t?(this._connected=!0,"function"==typeof this._connectCallback&&this._connectCallback(),null===(e=this._chartSession)||void 0===e||e.switchTimezone("Etc/UTC"),this._requestData()):(this._connected=!1,this._mainPlot.disconnect(),this._studyPlots.forEach((t=>t.disconnect()))))}_onChartSessionCriticalError(){this._connected=!1}_requestData(){this._clearReconnectionTimeout();const t=d.Interval.parse(this.resolution());let e,i;this._isDWMResolution=t.isDWM(),this._widget.timeScale().applyOptions({timeVisible:!this._isDWMResolution,secondsVisible:t.isSeconds()});const{dateFormat:s="dd MMM 'yy",timeHoursFormat:o="24-hours"}=this._options.chartOptions;this._isDWMResolution?e=i=new p.DateFormatter(s):(e=new v.DateTimeFormatter({dateFormat:s,timeFormat:(0,b.getTimeFormatForInterval)(t,o)}),i=new v.DateTimeFormatter({dateFormat:s,timeFormat:(0,b.getTimeFormatForInterval)(t,o),dateTimeSeparator:"\n"})),this._tooltipDateTimeFormatter=i,this._widget.applyOptions({localization:{timeFormatter:t=>e.format(new Date(1e3*t))},timeScale:{tickMarkFormatter:N.bind(null,o)}}),this._mainPlot.requestData(),this._studyPlots.forEach((t=>t.requestData())),this._widget.applyOptions({timeScale:{timeVisible:!d.Interval.parse(this._mainPlot.resolution()).isDWM()}})}_onData(t){if(this._mainPlot.isConnected())switch(t.method){case"timescale_update":{const e=t.params;if(e.clear){this._tickmarks.clear(),this._mainPlot.clearSourceData();for(const t of this._studyPlots)t.clearSourceData()}if(e.index_diff.length>0){this._mainPlot.moveSourceData(e.index_diff);for(const t of this._studyPlots)t.moveSourceData(e.index_diff)}const i=e.marks;for(const t of i)this._tickmarks.set(t.index,t);break}}}_onSymbolResolved(){this.updateAvailableTimeframes(),this._initTimeframesRenderer()}
_onTimeFrameInvalidated(){var t;this._activeRange=void 0,null===(t=this._timeframeView)||void 0===t||t.update({activeRange:void 0})}_showLoading(){if(this._isLoading)return;this.hideMessage();const t=this._options.chartOptions.loading;t.spinner.visible&&(null===this._spinner&&(this._spinner=new _.Spinner("mini").setStyle({color:t.spinner.color,width:t.spinner.width.toString(),zIndex:"10"})),this._spinner.spin(this._innerContainer)),t.fade.visible&&this._innerContainer.classList.add(T.fade),this._isLoading=!0}_hideLoading(){this._isLoading&&(this._spinner&&this._spinner.stop(),this._isLoading=!1)}_createFloatingTooltip(){const t=this._options.valuesTracking;if("3"===t||"0"===t)return;if(this._tooltipContainer){const{position:t}=window.getComputedStyle(this._tooltipContainer),e=["relative","fixed","absolute"];e.includes(t)||C.logWarn("Container position property must be: "+e.join(", "))}const e=async()=>{var t;const e=await Promise.all([i.e(72786),i.e(50690),i.e(10748)]).then(i.bind(i,667704));this._isDestroyed||(this._floatingTooltip=new e.FloatingPriceTimeTooltipRenderer(null!==(t=this._tooltipContainer)&&void 0!==t?t:void 0,this._innerContainer,T.floatingTooltip))};let s;this.subscribeCrosshairMove((i=>{var o;let r;if(i){const{point:e,...s}=i;r={...s,cursorPosition:{x:this._widget.priceScale("left").width()+e.x,y:e.y},lineColor:"2"===t?null===(o=s.prices[0])||void 0===o?void 0:o.color:void 0}}null===this._floatingTooltip?(s=s||e(),s.then((()=>{var t;return null===(t=this._floatingTooltip)||void 0===t?void 0:t.update(r)}))):this._floatingTooltip.update(r)}))}_destroyFloatingTooltip(){this._floatingTooltip&&(this._floatingTooltip.destroy(),this.unsubscribeCrosshairMove(),this._floatingTooltip=null)}_requestDataOnTimeframeChange(){this._options.chartOptions.loading.clearDataOnTimeframeChange&&(this.mainPlot().clearData(),this.mainPlot().deleteView(),this._studyPlots.forEach((t=>t.clearData())),this._studyPlots.forEach((t=>t.deleteView()))),this.connected()?this._requestData():this.connect()}_updateStatus(){const t=[this._mainPlot.status().value(),...this._studyPlots.map((t=>t.status().value()))],e=t.every((t=>0!==t))?3===t[0]?"ready":"error":"loading";this._status.setValue(e)}}},607436:(t,e,i)=>{"use strict";i.d(e,{DEFAULT_SIZE:()=>s.DEFAULT_SIZE,spinnerSizeMap:()=>s.spinnerSizeMap});var s=i(685023)},17966:(t,e,i)=>{"use strict";i.d(e,{getCircleLogoAnyHtml:()=>r});var s=i(562840),o=i(315723);function r(t){const{logoUrls:e,...i}=t;return 1===e.length?(0,s.getCircleLogoHtml)({logoUrl:e[0],...i}):2===e.length?(0,o.getCircleLogoPairHtml)({primaryLogoUrl:e[0],secondaryLogoUrl:e[1],...i}):(0,s.getCircleLogoHtml)({logoUrl:void 0,...i})}},607546:(t,e,i)=>{"use strict";i.d(e,{getLogoUrlsHook:()=>r});var s=i(849204);const o=(0,s.getLogoUrlResolver)();function r(t,e){let i=!1;return(r,a,l)=>{const h=r["currency-logoid"]&&r["base-currency-logoid"];if(!i&&(r.logoid||h||l)){i=!0;const a=function(t){if(2!==t.length)return t;if(function(t){return t.some((t=>n(t)))}(t)&&!function(t){return t.some((t=>t.includes("country")&&!n(t)))
}(t))return t.filter((t=>!n(t)));return t}(function(t,e=s.LogoSize.Medium){const i=t.logoid,r=t["base-currency-logoid"],n=t["currency-logoid"],a=i&&o.getSymbolLogoUrl(i,e);if(a)return[a];const l=r&&o.getSymbolLogoUrl(r,e),h=n&&o.getSymbolLogoUrl(n,e);return l&&h?[l,h]:l?[l]:h?[h]:[]}({logoid:r.logoid,"base-currency-logoid":r["base-currency-logoid"],"currency-logoid":r["currency-logoid"]},e));t(a)}}}function n(t){return t.includes("country/US")}},315723:(t,e,i)=>{"use strict";i.d(e,{getCircleLogoPairHtml:()=>o});var s=i(439378);i(882112);function o(t){const{primaryLogoUrl:e,secondaryLogoUrl:i,size:o,className:n}=t;return`<span class="${(0,s.getBlockStyleClasses)(o,n)}">\n\t\t\t${r({logoUrl:i,size:o})}\n\t\t\t${r({logoUrl:e,size:o})}\n\t\t</span>`}function r(t){const{logoUrl:e,size:i}=t,o=(0,s.getLogoStyleClasses)(i,Boolean(e));return void 0===e?`<span class="${o}"></span>`:`<img class="${o}" crossorigin src="${e}" alt="" />`}},439378:(t,e,i)=>{"use strict";i.d(e,{getBlockStyleClasses:()=>o,getLogoStyleClasses:()=>r});var s=i(497754);function o(t,e){return s("tv-circle-logo-pair",`tv-circle-logo-pair--${t}`,e)}function r(t,e){return s("tv-circle-logo-pair__logo",`tv-circle-logo-pair__logo--${t}`,!e&&"tv-circle-logo-pair__logo-empty")}},562840:(t,e,i)=>{"use strict";i.d(e,{getCircleLogoHtml:()=>o});var s=i(783036);i(645300);function o(t){const e=(0,s.getStyleClasses)(t.size,t.className);return(0,s.isCircleLogoWithUrlProps)(t)?`<img class="${e}" crossorigin src="${t.logoUrl}" alt="">`:`<span class="${e}">${t.placeholderLetter||""}</span>`}},66732:(t,e,i)=>{"use strict";i.d(e,{combine:()=>r});var s=i(401580);function o(t,e,...i){const o=(...e)=>t(...e.map((t=>t.value()))),r=new s.WatchedValue(o(...i)),n=()=>{e(...i.map((t=>t.value())))&&r.setValue(o(...i))},a=i.map((t=>t.spawn()));for(const t of a)t.subscribe(n);return r.readonly().spawn((()=>{a.forEach((t=>t.destroy())),i.forEach((t=>t.release()))}))}function r(t,...e){return o(t,(()=>!0),...e)}},401580:(t,e,i)=>{"use strict";i.d(e,{WatchedValue:()=>l});var s=i(428123),o=i(194582),r=i(805377);const n=(0,o.getLogger)("Common.WatchedValue");function a(t){n.logError(`${t&&(t.stack||t.message)}`)}class l{constructor(...t){this._listeners=[],t.length>0&&(this._value=t[0])}destroy(){this.unsubscribe()}value(){return this._owner?this._owner._value:this._value}setValue(t,e){const i=this._owner?this._owner:this;if("function"==typeof i.hook&&(t=i.hook(t)),i.writeLock)return;const s=i._value===t||Number.isNaN(i._value)&&Number.isNaN(t);if(!e&&s&&i.hasOwnProperty("_value"))return;i._value=t;const o=i._listeners.slice();let r=0;for(let e=0;e<o.length;e++){o[e].once&&(i._listeners.splice(e-r,1),r++);try{o[e].cb(t)}catch(t){a(t)}}}deleteValue(){this.setValue(void 0)}subscribe(t,e){if("function"!=typeof t)throw new TypeError("callback must be a function");const i=!!e&&!!e.once,s=!!e&&!!e.callWithLast,o=this._owner?this._owner:this;if(s&&o.hasOwnProperty("_value")){try{t(o._value)}catch(t){a(t)}if(i)return}o._listeners.push({cb:t,owner:this,once:!!e&&!!e.once})}unsubscribe(t){
const e=this._owner?this._owner:this;void 0===t&&(t=null);const i=e._listeners;for(let s=i.length;s--;)i[s].owner!==this&&e!==this||i[s].cb!==t&&null!==t||i.splice(s,1)}readonly(){if(this._readonlyInstance)return this._readonlyInstance;const t={subscribe:this.subscribe.bind(this),unsubscribe:this.unsubscribe.bind(this),value:this.value.bind(this),when:this.when.bind(this),ownership:this.ownership.bind(this),spawnOwnership:this.spawnOwnership.bind(this),weakReference:this.weakReference.bind(this),spawn:t=>this.spawn(t).readonly(),destroy:this.destroy.bind(this)};return this._readonlyInstance=t,t}spawn(t){return new h(this._owner||this,t)}when(t){(0,r.callWhen)(this,(t=>Boolean(t)),(()=>{try{t(this.value())}catch(t){a(t)}}))}assertNoSubscriptions(){0}ownership(){return(0,s.ownership)(this)}spawnOwnership(){return(0,s.ownership)(this.spawn())}weakReference(){return(0,s.weakReference)(this)}}class h extends l{constructor(t,e){super(),delete this._listeners,this._owner=t,this._onDestroy=e}destroy(){var t;try{null===(t=this._onDestroy)||void 0===t||t.call(this)}catch(t){a(t)}super.destroy()}readonly(){return super.readonly()}}},938550:(t,e,i)=>{"use strict";i.d(e,{WatchedObject:()=>n});var s=i(401580),o=i(389137);function r(t,e){return(0,o.deepEquals)(t,e)[0]}class n extends s.WatchedValue{constructor(t,e=r){super(t),this._comparator=e}setValue(t,e){!1===this._comparator(this.value(),t)&&super.setValue(t,e)}}},716714:(t,e,i)=>{"use strict";i.d(e,{TimeFormatter:()=>d,hourMinuteFormat:()=>l,hourMinuteNonZeroSecondFormat:()=>n,hourMinuteSecondFormat:()=>r,hourMinuteSecondMillisecFormat:()=>a,twelveHourMinuteFormat:()=>u,twelveHourMinuteNonZeroSecondFormat:()=>c,twelveHourMinuteSecondFormat:()=>h});var s=i(551775),o=i(702053);const r="%h:%m:%s",n="%h:%m:%s+",a="%h:%m:%s.%ss+",l="%h:%m",h="%h:%m:%s %ampm",c="%h:%m:%s+ %ampm",u="%h:%m %ampm";class d{constructor(t){this._isTwelveHoursFormat=!1,this._valuesAndDelimeters=[];const e=t||r,i=new RegExp("%h|%m|%s\\+|%ss\\+|%ss|%ampm|%s","g");let s=i.exec(e),o=0;for(;null!==s;){const t=s[0];"%ampm"===t&&(this._isTwelveHoursFormat=!0);const r=e.substring(o,s.index);""!==r&&this._valuesAndDelimeters.push(r),this._valuesAndDelimeters.push(t),o=s.index+t.length,s=i.exec(e)}}format(t){return s.customFormatters.timeFormatter?s.customFormatters.timeFormatter.format(t):this._formatTime(t,!1)}formatLocal(t){return s.customFormatters.timeFormatter?s.customFormatters.timeFormatter.formatLocal?s.customFormatters.timeFormatter.formatLocal(t):s.customFormatters.timeFormatter.format(t):this._formatTime(t,!0)}_formatTime(t,e){let i=e?t.getHours():t.getUTCHours();const s=e?t.getMinutes():t.getUTCMinutes(),r=e?t.getSeconds():t.getUTCSeconds(),n=e?t.getMilliseconds():t.getUTCMilliseconds();let a="";this._isTwelveHoursFormat&&(a=i>=12?"PM":"AM",i%=12,i=i||12);let l="",h=!1;for(let t=this._valuesAndDelimeters.length-1;t>=0;t--){const e=this._valuesAndDelimeters[t];let c;switch(e){case"%h":c=(0,o.numberToStringWithLeadingZero)(i,2);break;case"%m":c=(0,o.numberToStringWithLeadingZero)(s,2);break;case"%s+":
0!==r?c=(0,o.numberToStringWithLeadingZero)(r,2):(c="",h=!0);break;case"%s":c=(0,o.numberToStringWithLeadingZero)(r,2);break;case"%ss":c=(0,o.numberToStringWithLeadingZero)(n,3);break;case"%ss+":0!==n?c=(0,o.numberToStringWithLeadingZero)(n,3):(c="",h=!0);break;case"%ampm":c=a;break;default:if(h){h=!1;continue}c=e}l=c+l}return l}}},464539:(t,e,i)=>{"use strict";i.d(e,{getTimeFormatForInterval:()=>o});var s=i(716714);function o(t,e){if(t.isRange())return function(t){return"12-hours"===t?s.twelveHourMinuteNonZeroSecondFormat:s.hourMinuteNonZeroSecondFormat}(e);if(t.isTicks())return s.hourMinuteSecondMillisecFormat;return t.isSeconds()||t.isTicks()?function(t){return"12-hours"===t?s.twelveHourMinuteSecondFormat:s.hourMinuteSecondFormat}(e):function(t){return"12-hours"===t?s.twelveHourMinuteFormat:s.hourMinuteFormat}(e)}},603706:(t,e,i)=>{"use strict";i.d(e,{getTimeFrames:()=>r});var s=i(444372),o=i(146585);function r(){return{"1d":{text:s.t(null,void 0,i(932120)),value:{value:"1D",type:"period-back"},targetResolution:(0,o.stringAsResolution)("1"),description:(0,o.daysStringLiteral)(1)},"5d":{text:s.t(null,void 0,i(905486)),value:{value:"5D",type:"period-back"},targetResolution:(0,o.stringAsResolution)("5"),description:(0,o.daysStringLiteral)(5)},"1w":{text:s.t(null,void 0,i(234880)),value:{value:"7D",type:"period-back"},targetResolution:(0,o.stringAsResolution)("15"),description:(0,o.weeksStringLiteral)(1)},"1m":{text:s.t(null,void 0,i(460356)),value:{value:"1M",type:"period-back"},targetResolution:(0,o.stringAsResolution)("30"),description:(0,o.monthsStringLiteral)(1)},"3m":{text:s.t(null,void 0,i(440675)),value:{value:"3M",type:"period-back"},targetResolution:(0,o.stringAsResolution)("60"),description:(0,o.monthsStringLiteral)(3)},"6m":{text:s.t(null,void 0,i(281788)),value:{value:"6M",type:"period-back"},targetResolution:(0,o.stringAsResolution)("120"),description:(0,o.monthsStringLiteral)(6)},"12m":{text:s.t(null,void 0,i(254790)),value:{value:"12M",type:"period-back"},targetResolution:(0,o.stringAsResolution)("1D"),description:(0,o.yearsStringLiteral)(1)},"24m":{text:s.t(null,void 0,i(440956)),value:{value:"24M",type:"period-back"},targetResolution:(0,o.stringAsResolution)("1W"),description:(0,o.yearsStringLiteral)(2)},"36m":{text:s.t(null,void 0,i(996053)),value:{value:"36M",type:"period-back"},targetResolution:(0,o.stringAsResolution)("1W"),description:(0,o.yearsStringLiteral)(3)},"60m":{text:s.t(null,void 0,i(320013)),value:{value:"60M",type:"period-back"},targetResolution:(0,o.stringAsResolution)("1W"),description:(0,o.yearsStringLiteral)(5)},"120m":{text:s.t(null,void 0,i(377628)),value:{value:"120M",type:"period-back"},targetResolution:(0,o.stringAsResolution)("1M"),description:(0,o.yearsStringLiteral)(10)},ytd:{text:s.t(null,void 0,i(989013)),value:{value:"YTD",type:"period-back"},targetResolution:(0,o.stringAsResolution)("1D"),description:s.t(null,void 0,i(388996))},all:{text:s.t(null,void 0,i(695271)),value:{value:"ALL",type:"period-back"},targetResolution:(0,o.stringAsResolution)("1M")},lastsession:{
text:s.t(null,void 0,i(932120)),value:{value:"LASTSESSION",type:"period-back"},targetResolution:(0,o.stringAsResolution)("1"),description:(0,o.daysStringLiteral)(1)}}}},146585:(t,e,i)=>{"use strict";i.d(e,{daysStringLiteral:()=>o,monthsStringLiteral:()=>n,stringAsResolution:()=>l,weeksStringLiteral:()=>r,yearsStringLiteral:()=>a});var s=i(444372);const o=t=>s.t(null,{plural:"{str} days",count:t,replace:{str:`${t}`}},i(774262)),r=t=>s.t(null,{plural:"{str} weeks",count:t,replace:{str:`${t}`}},i(14074)),n=t=>s.t(null,{plural:"{str} months",count:t,replace:{str:`${t}`}},i(128039)),a=t=>s.t(null,{plural:"{str} years",count:t,replace:{str:`${t}`}},i(408222)),l=t=>t},453290:(t,e,i)=>{"use strict";i.d(e,{getActualTimeFrame:()=>o});var s=i(603706);function o(t){const e=new Set(Object.values((0,s.getTimeFrames)()).map((t=>t.value.value)));if(e.has(t))return t;const i=t.toUpperCase();return e.has(i)?i:"12M"}},663261:(t,e,i)=>{"use strict";i.d(e,{handleTVLinksClick:()=>n});var s=i(439563),o=i(185515),r=i(691239);function n(){document.addEventListener("click",(t=>{const e=t.target.closest(":link");if(!(null==e?void 0:e.hostname)||!(0,r.isInternalHost)(e.hostname,"tradingview.com"))return;const i=e.dataset.targetType||null;!function(t,e){const i=function(){const t=window.initData.hashSettings;if(Object.keys(t).length>0)return(0,o.filterUtmInfo)(t);const e=new URLSearchParams(location.href);return{utm_campaign:e.get("utm_campaign")||void 0,utm_source:e.get("utm_source")||void 0}}(),r=function(t){var e;const i=(null===(e=location.ancestorOrigins)||void 0===e?void 0:e[0])||document.referrer;return t.utm_source||function(t){try{return new URL(t).host}catch(t){return""}}(i)}(i);!async function(t){var e;null===(e=await(0,s.getEmbedWidgetTracker)())||void 0===e||e.trackWidgetTVLinkClick(t)}({widget_type:a(i),domain:r,link:t,target_type:e})}(e.href,i)}))}function a(t){if(t.utm_campaign)return t.utm_campaign;const e=location.pathname;return e.includes("embed-widget")?e.split("/")[2]:e}}}]);