(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[22757],{23761:e=>{e.exports={separator:"separator-lpm80u9C",today:"today-lpm80u9C",large:"large-lpm80u9C",innerWrapper:"innerWrapper-lpm80u9C",label:"label-lpm80u9C"}},982434:e=>{e.exports={scrollWrap:"scrollWrap-FaOvTD2r"}},252693:e=>{e.exports={container:"container-Tv7LSjUz",overlayScrollWrap:"overlayScrollWrap-Tv7LSjUz",wrapper:"wrapper-Tv7LSjUz"}},977253:e=>{e.exports={wrap:"wrap-vSb6C0Bj","wrap--horizontal":"wrap--horizontal-vSb6C0Bj",bar:"bar-vSb6C0Bj",barInner:"barInner-vSb6C0Bj","barInner--horizontal":"barInner--horizontal-vSb6C0Bj","bar--horizontal":"bar--horizontal-vSb6C0Bj"}},433172:e=>{e.exports={icon:"icon-OJpk_CAQ"}},483241:e=>{e.exports={hidden:"hidden-KFYqEn02"}},778739:e=>{e.exports={chartWrap:"chartWrap-nP4MuxCj",laptop:"laptop-nP4MuxCj",small:"small-nP4MuxCj",spinner:"spinner-nP4MuxCj",spinnerWrap:"spinnerWrap-nP4MuxCj",showWithDelay:"showWithDelay-nP4MuxCj","show-with-delay":"show-with-delay-nP4MuxCj",text:"text-nP4MuxCj",tablet:"tablet-nP4MuxCj",bottomMargin:"bottomMargin-nP4MuxCj",buttonsContainer:"buttonsContainer-nP4MuxCj",button:"button-nP4MuxCj"}},398058:e=>{e.exports={economicCalendarItem:"economicCalendarItem-gieeF1Ex",title:"title-gieeF1Ex",time:"time-gieeF1Ex",tablet:"tablet-gieeF1Ex",country:"country-gieeF1Ex",importance:"importance-gieeF1Ex",values:"values-gieeF1Ex",desktop:"desktop-gieeF1Ex",heading:"heading-gieeF1Ex",commentBlock:"commentBlock-gieeF1Ex",countryName:"countryName-gieeF1Ex",expanded:"expanded-gieeF1Ex",expandable:"expandable-gieeF1Ex",icons:"icons-gieeF1Ex",flagIcon:"flagIcon-gieeF1Ex",value:"value-gieeF1Ex",valueLabel:"valueLabel-gieeF1Ex",small:"small-gieeF1Ex",disabled:"disabled-gieeF1Ex",titleText:"titleText-gieeF1Ex",caretWrap:"caretWrap-gieeF1Ex",valueWithUnit:"valueWithUnit-gieeF1Ex",percentUnit:"percentUnit-gieeF1Ex",valueUnit:"valueUnit-gieeF1Ex",smallFont:"smallFont-gieeF1Ex",withoutOffset:"withoutOffset-gieeF1Ex",bold:"bold-gieeF1Ex",hidden:"hidden-gieeF1Ex",red:"red-gieeF1Ex"}},309590:e=>{e.exports={importanceIcon:"importanceIcon-IrtMPrEX",low:"low-IrtMPrEX",normal:"normal-IrtMPrEX",high:"high-IrtMPrEX"}},714126:e=>{e.exports={container:"container-qXm0LPSo",tablet:"tablet-qXm0LPSo",values:"values-qXm0LPSo",cell:"cell-qXm0LPSo",small:"small-qXm0LPSo",time:"time-qXm0LPSo",text:"text-qXm0LPSo"}},271958:e=>{e.exports={wrap:"wrap-zeQcRI3E",timeString:"timeString-zeQcRI3E",badge:"badge-zeQcRI3E",badgeContent:"badgeContent-zeQcRI3E"}},398072:e=>{e.exports={container:"container-mpsCDzW8",content:"content-mpsCDzW8",withSpinner:"withSpinner-mpsCDzW8",widgetContainer:"widgetContainer-mpsCDzW8",scrollWrapper:"scrollWrapper-mpsCDzW8",spinnerContainer:"spinnerContainer-mpsCDzW8",hidden:"hidden-mpsCDzW8",transparentHeader:"transparentHeader-mpsCDzW8",transparentItemsWrap:"transparentItemsWrap-mpsCDzW8",noContent:"noContent-mpsCDzW8",separator:"separator-mpsCDzW8",tablet:"tablet-mpsCDzW8",timelineDivider:"timelineDivider-mpsCDzW8",visible:"visible-mpsCDzW8",upcomingButton:"upcomingButton-mpsCDzW8",
upcomingButtonContainer:"upcomingButtonContainer-mpsCDzW8",bottom:"bottom-mpsCDzW8",retryBlockWrap:"retryBlockWrap-mpsCDzW8",smallRetryBlock:"smallRetryBlock-mpsCDzW8",iconRetry:"iconRetry-mpsCDzW8",hide:"hide-mpsCDzW8"}},770722:e=>{e.exports={container:"container-QcG0kDOU",image:"image-QcG0kDOU",title:"title-QcG0kDOU",description:"description-QcG0kDOU",button:"button-QcG0kDOU"}},782430:e=>{e.exports={container:"container-yrIMi47q",title:"title-yrIMi47q",title_normal:"title_normal-yrIMi47q",icon:"icon-yrIMi47q",text:"text-yrIMi47q",text_large:"text_large-yrIMi47q",action:"action-yrIMi47q"}},818612:(e,t,n)=>{"use strict";n.d(t,{Spinner:()=>a});var r=n(50959),i=n(497754),o=n(685023);n(683135);function a(e){const t=i(e.className,"tv-spinner","tv-spinner--shown",`tv-spinner--size_${o.spinnerSizeMap[e.size||o.DEFAULT_SIZE]}`);return r.createElement("div",{className:t,style:e.style,role:"progressbar"})}},610839:(e,t,n)=>{"use strict";n.d(t,{CalendarSeparator:()=>s,getSeparatorHeight:()=>l});var r=n(50959),i=n(497754),o=n.n(i),a=n(23761);function s(e){const{title:t,className:n,isActive:i,reference:s,size:c="medium"}=e;return r.createElement("div",{ref:s,className:o()(a.separator,i&&a.today,"large"===c&&a.large,n),style:{height:`${l(c)}px`}},r.createElement("div",{className:a.innerWrapper},r.createElement("span",{className:a.label},t)))}function l(e){switch(e){case"large":return 40;case"medium":return 30}}},646357:(e,t,n)=>{"use strict";n.d(t,{OverlayScrollContainer:()=>c});var r=n(50959),i=n(497754),o=n(31341),a=n(341077),s=n(962624),l=n(982434);function c(e){const{reference:t,className:n,containerHeight:c=0,containerWidth:u=0,contentHeight:m=0,contentWidth:d=0,scrollPosTop:h=0,scrollPosLeft:p=0,onVerticalChange:g,onHorizontalChange:v,visible:f}=e,[C,I]=(0,s.useHover)(),[y,P]=(0,r.useState)(!1),M=c<m,S=u<d,E=M&&S?8:0;return r.createElement("div",{...I,ref:t,className:i(n,l.scrollWrap),style:{visibility:f||C||y?"visible":"hidden"}},M&&r.createElement(a.OverlayScroll,{size:c-E,scrollSize:m-E,clientSize:c-E,scrollProgress:h,onScrollProgressChange:function(e){g&&g(e)},onDragStart:x,onDragEnd:F,scrollMode:0}),S&&r.createElement(a.OverlayScroll,{size:u-E,scrollSize:d-E,clientSize:u-E,scrollProgress:p,onScrollProgressChange:function(e){v&&v(e)},onDragStart:x,onDragEnd:F,scrollMode:(0,o.isRtl)()?2:1}));function x(){P(!0)}function F(){P(!1)}}},331430:(e,t,n)=>{"use strict";n.d(t,{OverlayScrollWrapper:()=>u});var r=n(50959),i=n(497754),o=n.n(i),a=n(646357),s=n(445343),l=n(936570),c=n(252693);function u(e){const{children:t,className:n,reference:i,hasCustomTouchScrollAnimation:u,scrollContainerRef:m,isForceVisible:d,...h}=e,[p,g,v,f]=(0,s.useOverlayScroll)(m,u);return(0,l.useCustomTouchScrollAnimation)({scrollContainerRef:u?v:void 0}),(0,r.useImperativeHandle)(i,(()=>({updateScrollState:f}))),r.createElement("div",{...h,...g,className:o()(c.container,n)},r.createElement(a.OverlayScrollContainer,{...p,visible:null!=d?d:p.visible,className:c.overlayScrollWrap}),r.createElement("div",{className:c.wrapper,ref:v,onScroll:f},t))}},
341077:(e,t,n)=>{"use strict";n.d(t,{OverlayScroll:()=>d});var r=n(50959),i=n(497754),o=n.n(i),a=n(650151),s=n(678515),l=n(977253);const c=l,u={0:{isHorizontal:!1,isNegative:!1,sizePropName:"height",minSizePropName:"minHeight",startPointPropName:"top",currentMousePointPropName:"clientY",progressBarTransform:"translateY"},1:{isHorizontal:!0,isNegative:!1,sizePropName:"width",minSizePropName:"minWidth",startPointPropName:"left",currentMousePointPropName:"clientX",progressBarTransform:"translateX"},2:{isHorizontal:!0,isNegative:!0,sizePropName:"width",minSizePropName:"minWidth",startPointPropName:"right",currentMousePointPropName:"clientX",progressBarTransform:"translateX"}},m=40;function d(e){const{size:t,scrollSize:n,clientSize:i,scrollProgress:l,onScrollProgressChange:d,scrollMode:h,theme:p=c,onDragStart:g,onDragEnd:v,minBarSize:f=m}=e,C=(0,r.useRef)(null),I=(0,r.useRef)(null),[y,P]=(0,r.useState)(!1),M=(0,r.useRef)(0),{isHorizontal:S,isNegative:E,sizePropName:x,minSizePropName:F,startPointPropName:b,currentMousePointPropName:R,progressBarTransform:w}=u[h];(0,r.useEffect)((()=>{const e=(0,a.ensureNotNull)(C.current).ownerDocument;return y?(g&&g(),e&&(e.addEventListener("mousemove",L),e.addEventListener("mouseup",O))):v&&v(),()=>{e&&(e.removeEventListener("mousemove",L),e.removeEventListener("mouseup",O))}}),[y]);const N=t/n||0,Y=i*N||0,T=Math.max(Y,f),_=(t-T)/(t-Y),D=n-t,z=E?-D:0,k=E?0:D,B=H((0,s.clamp)(l,z,k))||0;return r.createElement("div",{ref:C,className:o()(p.wrap,S&&p["wrap--horizontal"]),style:{[x]:t},onMouseDown:function(e){if(e.isDefaultPrevented())return;e.preventDefault();const t=W(e.nativeEvent,(0,a.ensureNotNull)(C.current)),n=Math.sign(t),r=(0,a.ensureNotNull)(I.current).getBoundingClientRect();M.current=n*r[x]/2;let i=Math.abs(t)-Math.abs(M.current);const o=H(D);i<0?(i=0,M.current=t):i>o&&(i=o,M.current=t-n*o);d(A(n*i)),P(!0)}},r.createElement("div",{ref:I,className:o()(p.bar,S&&p["bar--horizontal"]),style:{[F]:f,[x]:T,transform:`${w}(${B}px)`},onMouseDown:function(e){e.preventDefault(),M.current=W(e.nativeEvent,(0,a.ensureNotNull)(I.current)),P(!0)}},r.createElement("div",{className:o()(p.barInner,S&&p["barInner--horizontal"])})));function L(e){const t=W(e,(0,a.ensureNotNull)(C.current))-M.current;d(A(t))}function O(){P(!1)}function W(e,t){const n=t.getBoundingClientRect()[b];return e[R]-n}function H(e){return e*N*_}function A(e){return e/N/_}}},177211:(e,t,n)=>{"use strict";n.d(t,{getFlagSrc:()=>s});var r=n(650151),i=n(849204),o=n(713438);const a=i.LogoSize.Medium;function s({country:e,providerId:t,sourceId:n}){const s=(0,i.getLogoUrlResolver)();return i=>{const l=e=>s.getProviderLogoUrl(e,a),c=[{value:n,resolve:l},{value:e,resolve:e=>s.getCountryFlagUrl(e.toUpperCase(),a)},{value:t,resolve:l}].find((({value:e})=>void 0!==e&&e.length>0));return void 0!==c?c.resolve((0,r.ensureDefined)(c.value)):(0,o.getMockedFlag)(i)}}},849186:(e,t,n)=>{"use strict";n.d(t,{SymbolSearchFlag:()=>m});var r=n(50959),i=n(497754),o=n.n(i),a=n(713438),s=n(631078),l=n(331633),c=n(177211),u=n(433172);function m(e){
const{country:t,tooltip:n,providerId:i,sourceId:m,className:d}=e,h=(0,s.useWatchedValueReadonly)({watchedValue:l.watchedTheme}),[p,g]=(0,r.useState)((0,c.getFlagSrc)({country:t,providerId:i,sourceId:m})(h));return r.createElement("img",{className:o()(d,"apply-common-tooltip",u.icon),crossOrigin:"","data-tooltip":n,src:p,onError:function(){g((0,a.getMockedFlag)(h))}})}},722757:(e,t,n)=>{"use strict";n.d(t,{EconomicCalendarContainer:()=>Se});var r=n(497754),i=n.n(r),o=n(444372),a=n(50959),s=n(650151),l=n(267521),c=n(915812),u=n(97275),m=n(443549),d=n(725002),h=n(631078),p=n(61499),g=n(331633);function v(e,t){const[n,r]=(0,a.useState)((()=>f(e))),i=(0,a.useRef)(t);return(0,a.useEffect)((()=>i.current=t),[t]),(0,a.useEffect)((()=>{const t=f(e);if(r(t),t&&i.current&&i.current(),void 0===e||t)return;const n=e-Date.now();if(n>6048e5)return;const o=setTimeout((()=>{var e;r(!0),null===(e=i.current)||void 0===e||e.call(i)}),n);return()=>clearTimeout(o)}),[e]),n}function f(e){return Boolean(void 0!==e&&e<Date.now())}var C=n(416293),I=n(849186),y=n(69759),P=n(870160),M=n(887778),S=n(221233),E=n(915270),x=n(778739);function F(e){const{comment:t,showOpenOnChart:i,breakpoint:s,chartLink:l,overviewLink:c,onOpenOnChart:u,onAddToCalendar:d,trackAction:h,historyItems:p,timezone:g,eventHistoryViewState:v,showSpinnerWithDelay:f}=e,C=s<768,I=i||d;return a.createElement(a.Fragment,null,t&&a.createElement("div",{className:r(x.text,C&&x.tablet,I&&x.bottomMargin)},t),a.createElement("div",{className:x.buttonsContainer},i&&a.createElement(b,{title:o.t(null,void 0,n(581934)),icon:M,onClick:function(){u&&u();h&&i&&h("Open on chart")},isTablet:C,link:l,target:l?"_blank":void 0,"data-name":"open-on-chart-button"}),c&&a.createElement(b,{title:o.t(null,void 0,n(463093)),icon:S,isTablet:C,onClick:function(){h&&h("See overview")},"data-name":"see-overview-button",link:c}),d&&a.createElement(b,{title:o.t(null,void 0,n(678233)),icon:C?E:"",onClick:function(){d&&(d(),h&&h("Add to calendar"))},isTablet:C,"data-name":"add-to-calendar-button"})),"nothing"===v?null:"spinner"===v?a.createElement("div",{className:r(x.spinnerWrap,f&&x.showWithDelay,s<1280&&x.laptop)},a.createElement(m.Spinner,{className:x.spinner})):a.createElement("div",{className:r(x.chartWrap,s<1280&&x.laptop,s<260&&x.small)},a.createElement(a.Suspense,{fallback:a.createElement(m.Spinner,{className:x.spinner})},a.createElement(w,{items:p,timezone:g}))))}function b(e){const{title:t,icon:n,onClick:i,isTablet:o,link:s,target:l,...u}=e;return o?a.createElement(c.SquareAnchorButton,{className:r(x.button,"apply-common-tooltip"),title:t,onClick:i,size:"xsmall",variant:"secondary",color:"gray",href:s,target:l,icon:n,iconOnly:!0,...u}):a.createElement(c.SquareAnchorButton,{className:x.button,onClick:i,size:"small",variant:"secondary",color:"gray",href:s,target:l,icon:n,...u},a.createElement("div",{className:x.title},t))}function R(){return Promise.all([n.e(66886),n.e(24377),n.e(62889),n.e(29508),n.e(23370),n.e(4456)]).then(n.bind(n,173238))}const w=a.lazy((async()=>({
default:(await R()).EventHistoryChart})));function N(e){const{timestamp:t,enabled:n,formatResult:r}=e,[i,o]=(0,a.useState)(t-Date.now());return(0,a.useLayoutEffect)((()=>{if(!n)return;let e=null;const r=()=>{o(t-Date.now()),e=setTimeout(r,1e3)};return r(),()=>{null!==e&&(clearTimeout(e),e=null)}}),[t,n]),(0,a.useMemo)((()=>function(e,t){const n=Math.floor(e/1e3),r=Math.floor(n/60),i=r.toString().padStart(2,"0"),o=(n%60).toString().padStart(2,"0");return t({secondsRemaining:n,minutesRemaining:r,timeString:`${i}:${o}`})}(i,r)),[i,r])}var Y=n(79205),T=n(195998),_=n(309590);function D(e){const{importance:t}=e,n=t>0?"high":0===t?"normal":"low";return a.createElement(Y.Icon,{icon:T,className:i()(_.importanceIcon,_[n])})}var z=n(774465),k=n(812352),B=n(271958);function L(e){const{className:t,timestamp:n,timezone:r,highlighted:o}=e,s=(e=>new Intl.DateTimeFormat((0,k.getLocaleIso)(),{hour:"2-digit",minute:"2-digit",hourCycle:"h23",timeZone:e}))(null==r?void 0:r.value).format(n),l=(e=>new Intl.DateTimeFormat((0,k.getLocaleIso)(),{year:"numeric",day:"numeric",month:"long",hour:"2-digit",minute:"2-digit",timeZoneName:"short",hourCycle:"h23",timeZone:e}))(null==r?void 0:r.value).format(n);return a.createElement("div",{className:i()(t,B.wrap,"apply-common-tooltip"),title:l},o?a.createElement(z.Badge,{size:z.BadgeSize.Large,className:B.badge,contentClassName:B.badgeContent},s):a.createElement("span",{className:B.timeString},s))}var O=n(266325),W=n(120780);var H=n(398058);function A(e){const{item:t,breakpoint:r=0,upcomingTimestamp:l,hideTime:c=!1,hideCountry:u=!1,chartLink:m,overviewLink:d,onOpenOnChart:h,onAddToCalendar:p,reference:g,trackAction:f,timezone:M,onHappened:S,showEventHistory:E}=e,x=r<320,b=v(t.timestamp,S),w=v(l),[Y,T]=(0,a.useState)(E?"spinner":"nothing"),_=r>=768&&w&&!b,z=N({timestamp:t.timestamp,enabled:_,formatResult:G}),k=(0,y.formatValue)(t.actual,t.scale),B=(0,y.formatValue)(t.forecast,t.scale),A=(0,y.formatValue)(t.previous,t.scale),U=t.unit&&"USD"===t.unit.toUpperCase()?"$":t.unit,q=[_&&z?{value:z,label:o.t(null,void 0,n(41455)),hidden:!1,bold:!0,red:!0}:{value:k,label:o.t(null,void 0,n(41455)),hidden:null===t.actual&&!b,bold:!0,unit:U},{value:B,label:o.t(null,void 0,n(436972)),hidden:null===t.forecast&&!b,unit:U},{value:A,label:o.t(null,void 0,n(638478)),hidden:null===t.previous&&!b,unit:U}],V=Boolean(t.ticker&&(h||m)),Q=Boolean(t.comment||p||V),[j,Z]=(0,a.useState)(!1),X=(0,a.useMemo)((()=>t.country.toLowerCase()===P.ERL_COUNTRY_CODE.toLowerCase()?P.EU_COUNTRY_CODE:t.country),[t.country]),$=(0,a.useMemo)((()=>(0,y.getCountryNameByCountryCode)(X)),[X]),[J,K]=(0,a.useState)([]),ee=(0,a.useRef)(null),te=(0,a.useRef)(null);(0,a.useEffect)((()=>()=>{var e;return null===(e=ee.current)||void 0===e?void 0:e.abort()}),[]);const ne=(0,a.useMemo)((()=>{if(0===J.length||!E)return[];const e=J.findIndex((e=>e.id===t.id)),n=J.slice(0,e+1),i=r<568?5:9;return n.slice(-i)}),[t,J,r,E]);return(0,a.useEffect)((()=>{E&&(0!==ne.length?ne.some((e=>null!==e.forecast||null!==e.actual))?T("chart"):T("nothing"):T("spinner"))}),[ne,E]),
a.createElement("div",{ref:g,className:i()(H.economicCalendarItem,b&&H.disabled,x&&H.small,r>=768&&H.tablet,r>=1280&&H.desktop),"data-name":"economic-calendar-item","data-country":X.toLowerCase(),"data-symbol":t.ticker},a.createElement("div",{className:i()(H.heading,Q&&H.expandable,j&&H.expanded),onClick:function(){if(!Q)return;j||(E&&re(),null==f||f("Open description"));Z(!j)},onMouseDown:function(){!j&&E&&re()}},a.createElement(L,{className:i()(H.time,c&&H.hidden),timestamp:t.timestamp,timezone:M,highlighted:w&&!b}),a.createElement("div",{className:H.icons},a.createElement("span",{className:i()(H.country,u&&H.hidden)},a.createElement(I.SymbolSearchFlag,{country:X,tooltip:$,className:H.flagIcon}),a.createElement("span",{className:i()(H.countryName,"apply-overflow-tooltip")},$)),a.createElement("span",{className:H.importance},a.createElement(D,{importance:t.importance}))),a.createElement("div",{className:H.title},a.createElement("span",{className:i()(H.titleText,"apply-overflow-tooltip")},t.title),Q&&a.createElement("div",{className:H.caretWrap},a.createElement(C.ToolWidgetCaret,{dropped:j,className:H.caretIcon}))),a.createElement("span",{className:H.values},q.map(((e,t)=>a.createElement("span",{className:i()(H.value,e.hidden&&H.hidden),key:t},a.createElement("span",{className:H.valueLabel},r<568?e.label[0]:e.label),a.createElement("span",{className:i()(H.valueWithUnit,"%"===e.unit&&H.percentUnit)},a.createElement("span",{className:i()(e.bold&&H.bold,e.red&&H.red)},e.value),Boolean(e.value!==y.EMPTY_VALUE&&e.unit)&&a.createElement("span",{className:i()(H.valueUnit,(0,s.ensureDefined)(e.unit).length>2&&H.smallFont,"%"===(0,s.ensureDefined)(e.unit)&&H.withoutOffset)},e.unit))))))),j&&a.createElement("div",{className:H.commentBlock},a.createElement(F,{id:t.id,comment:t.comment,showOpenOnChart:V,breakpoint:r,chartLink:m,overviewLink:d,onOpenOnChart:h,onAddToCalendar:p,trackAction:f,historyItems:ne,timezone:M,eventHistoryViewState:Y,showSpinnerWithDelay:null===t.previous})));async function re(){if(te.current)return;R(),ee.current=new AbortController,te.current=async function(e,t,n){const r=new URLSearchParams({eventId:e});t&&r.append("countback",String(t));const i=await(0,W.fetch)(`${window.ECONOMIC_CALENDAR_URL}related_events?${r.toString()}`,{headers:{accept:"application/json"},signal:n}),o=await i.json();return"ok"!==o.status?[]:o.result}(t.id,8,ee.current.signal).catch((e=>((0,O.skipAbortError)(e),null)));const e=await te.current;e&&K(e)}}function G(e){const{secondsRemaining:t,minutesRemaining:r,timeString:i}=e;return t<0?"":r>=60?o.t(null,void 0,n(212604)):o.t(null,{replace:{time:i}},n(416062))}var U=n(627492),q=n(274210);const V={true:[0,1],false:[-1,0,1]};var Q=n(947575);function j(e){return Date.now()-36e5*e}function Z(){return Date.now()+2592e6}function X(e,t){return n=>n.filter((n=>n.timestamp>=e&&n.timestamp<=t))}function $(e,t,n){const r=(0,y.getRelativeTimezoneOffset)(n);if(!e)return{from:void 0!==t?j(t):void 0,to:Z()};const i=(0,y.getDateInTimezone)(Date.now(),n);let o,a;switch(e){case"upcoming":return{
from:void 0!==t?j(t):void 0,to:Z(),filter:e=>e.filter((e=>!f(e.timestamp)))};case"today":o=Number((0,q.resetToDayStart)(i))-r,a=Number((0,q.resetToDayEnd)(i))-r;break;case"today and upcoming":o=Number((0,q.resetToDayStart)(i))-r,a=Z();break;case"yesterday":const e=(0,q.subtractOneDay)(i);o=Number((0,q.resetToDayStart)(e))-r,a=Number((0,q.resetToDayEnd)(e))-r;break;case"tomorrow":const n=(0,q.addOneDay)(i);o=Number((0,q.resetToDayStart)(n))-r,a=Number((0,q.resetToDayEnd)(n))-r;break;case"this week":const s=(0,q.resetToWeekStart)(i);o=Number(s)-r,a=Number((0,q.addOneWeek)(s))-r-1e3}return{from:o,to:a+36e5,filter:X(o,a)}}const J=[1280,1024,768,568,320,260,0];var K=n(714126);function ee(e){const{breakpoint:t=0}=e,i=t<320,s=t>=768;return a.createElement("div",{className:r(K.container,s&&K.tablet)},a.createElement(te,{title:o.t(null,void 0,n(631976)),className:K.time,isSmall:!0}),s&&a.createElement("div",null),a.createElement("div",{className:K.values},a.createElement(te,{title:o.t(null,void 0,n(41455)),isSmall:i}),a.createElement(te,{title:o.t(null,void 0,n(436972)),isSmall:i}),a.createElement(te,{title:o.t(null,void 0,n(638478)),isSmall:i})))}function te(e){const{className:t,title:n,isSmall:i}=e;return a.createElement("div",{className:r(K.cell,t,i&&K.small)},a.createElement("span",{className:K.text},n))}var ne=n(610839);function re(e){const{date:t,reference:n,className:r,timezone:i,size:o="medium"}=e;return a.createElement(ne.CalendarSeparator,{title:ie(t,{timeZone:null==i?void 0:i.value,weekday:"large"===o?"long":void 0}),className:r,isActive:(0,q.isSameDay)((0,y.getDateInTimezone)(Number(t),null==i?void 0:i.offset),(0,y.getDateInTimezone)(Date.now(),null==i?void 0:i.offset)),reference:n,size:o})}function ie(e,t){const n=(0,k.getLocaleIso)();return new Intl.DateTimeFormat(n,Object.assign({day:"numeric",month:"long",timeZone:"UTC"},t)).format(e)}var oe=n(735686),ae=n(331430);class se extends a.PureComponent{getSnapshotBeforeUpdate(e){const{scrollContainerRef:t,itemsLength:n}=this.props;if(e.itemsLength<n&&t.current&&"additionalLoading"===e.loadingStatus){return t.current.scrollHeight}return null}componentDidUpdate(e,t,n){if(null!==n&&this.props.scrollContainerRef.current){const e=this.props.scrollContainerRef.current;e.scrollTop=e.scrollHeight-n}}render(){const{className:e,scrollContainerRef:t,children:n}=this.props;return a.createElement(ae.OverlayScrollWrapper,{className:e,scrollContainerRef:t},n)}}var le=n(517744);function ce(e=[]){return(0,a.useMemo)((()=>{const t=e.filter(ue).map((e=>({...e,value:e.id}))),r=function(){const e=Intl.DateTimeFormat().resolvedOptions().timeZone,t=(0,y.getCurrentTimezoneOffset)();return{offset:t,id:e,value:e,title:`(${(0,q.formatTimezoneOffset)(t)}) `+o.t(null,void 0,n(988975))}}(),i=t.find((e=>e.offset===r.offset));return i?{items:t,localTimezoneItem:i}:(t.push(r),t.sort(((e,t)=>e.offset-t.offset)),{items:t,localTimezoneItem:r})}),[])}function ue(e){return void 0!==e.offset}const me=()=>[{title:o.t(null,{context:"symbol_filter"},n(576473)),value:"",indicators:[]},{title:o.t(null,{
context:"symbol_filter"},n(986504)),value:"interest_rate",indicators:["1 Year MLF Rate","Banks Balance Sheet","Cash Reserve Ratio","Deposit Interest Rate","Fixed Asset Investment","Foreign Bond Investment","Foreign Exchange Reserves","Foreign Stock Investment","Interest Rate","Investment In Foreign Securities","Lending Rate","Loan Growth","Loan Prime Rate 5Y","Loans to Private Sector","Money Supply M1","Money Supply M2","Money Supply M3","Reverse Repo Rate"]},{title:o.t(null,{context:"symbol_filter"},n(335887)),value:"inflation",indicators:["Baden Wuerttemberg CPI YoY","Bavaria CPI YoY","Brandenburg CPI YoY","Commodity Prices YoY","Consumer Price Index CPI","Core Consumer Prices","Core Inflation Rate","Core PCE Price Index Annual Change","Core PCE Price Index MoM","Core PCE Prices QoQ","Core Producer Prices MoM","Core Producer Prices YoY","CPI Core Core","CPI Median","CPI Trimmed-Mean","Export Prices","Export Prices MoM","Export Prices YoY","Food Inflation","Food Price Index","GDP Deflator","Harmonised Consumer Prices","Harmonised Inflation Rate MoM","Harmonised Inflation Rate YoY","Hesse CPI YoY","IGP-M Inflation MoM","Import Prices","Import Prices MoM","Import Prices YoY","Inflation Expectations","Inflation Rate","Inflation Rate Mom","IPC-Fipe Inflation MoM","MI Inflation Gauge MoM","Michigan 5 Year Inflation Expectations","Michigan Inflation Expectations","Mid-month Core Inflation Rate MoM","Mid-month Core Inflation Rate YoY","Mid-month Inflation Rate MoM","Mid-month Inflation Rate YoY","Monthly CPI Indicator","North Rhine Westphalia CPI YoY","PCE Price Index Annual Change","PCE Price Index Monthly Change","PCE Prices QoQ","PPI Input","PPI Input YoY","Producer Price Inflation MoM","Producer Prices","Producer Prices Change","Retail Price Index","Saxony CPI YoY","Selling Price Expectations","Tokyo Core CPI","Tokyo Cpi","Tokyo CPI Ex Food and Energy","Trimmed Mean CPI QoQ","Weighted Median CPI QoQ","Weighted Median CPI YoY","Wholesale Prices","Wholesale Prices MoM","Wholesale Prices YoY","WPI Food Index YoY","WPI Food YoY","WPI Fuel YoY","WPI Manufacturing YoY"]},{title:o.t(null,{context:"symbol_filter"},n(404937)),value:"bonds",indicators:["2 Year Bond Yield","2 Year FRN Yield","3 Year Note Yield","40 Year Bond Yield","5 Year Bond Yield","5 Year Note Yield","5 Year TIPS Yield","50 Year Bond Yield","52 Week Bill Yield","8 Week Bill Yield","Government Bond 10Y","1 Month Bill Yield","10 Year TIPS Yield","119-Day Bill Yield","12 Month Bill Yield","15 Year Bond Yield","2 Year Note Yield","20 Year bond Yield","3 Month Bill Yield","30 Year Bond Yield","30 Year TIPS Yield","4 Week Bill Yield","42-Day Bill Yield","6 Month Bill Yield","7 Year Note Yield"]},{title:o.t(null,{context:"symbol_filter"},n(965415)),value:"consumer",
indicators:["ANZ Roy Morgan Consumer Confidence Index","Bank Lending Rate","CBI Distributive Trades","Chain Store Sales","Consumer Confidence","Consumer Confidence Price Trends","Consumer Credit","Consumer Spending","Credit Card Spending","Economic Optimism Index","Household Spending","Household Spending MoM","Housing Credit","Michigan Consumer Expectations","Michigan Current Economic Conditions","Mni Consumer Sentiment","Net Lending To Individuals MoM","Personal Income","Personal Savings","Personal Spending","Private Sector Credit","Redbook Index","Retail Sales Ex Autos","Retail Sales Ex Fuel","Retail Sales Ex Gas and Autos MoM","Retail Sales Mom","Retail Sales YoY","Used Car Prices MoM","Used Car Prices YoY"]},{title:o.t(null,{context:"symbol_filter"},n(552075)),value:"gdp",indicators:["Full Year GDP Growth","GDP Aggregate Demand QoQ","GDP Aggregate Demand YoY","GDP Annual Growth Rate","GDP External Demand Contribution","Gdp Growth Annualized","GDP Growth Non Oil Sector","GDP Growth Rate","GDP Sales QoQ","Gross Fixed Capital Formation","Gross National Product","Monthly GDP MoM","Monthly GDP YoY","Real Consumer Spending"]},{title:o.t(null,{context:"symbol_filter"},n(988924)),value:"government",indicators:["Government Budget","Government Budget Value","Government Debt","Government Debt to GDP","Government Revenues","Gross Debt to GDP","Holidays","Public Sector Net Borrowing","Tax Revenue","Treasury Cash Balance"]},{title:o.t(null,{context:"symbol_filter"},n(768098)),value:"housing",indicators:["Building Permits","Building Permits MoM","Building Permits YoY","Case Shiller Home Price Index MoM","Case Shiller Home Price Index YoY","Construction Orders","Construction Output","Construction PMI","Construction Spending","CoreLogic Dwelling Prices MoM","Existing Home Sales","Existing Home Sales MoM","Home Loans","House Price Index MoM","House Price Index YoY","Housing Index","Housing Starts","Housing Starts MoM","Investment Lending For Homes","MBA Mortgage Market Index","MBA Mortgage Refinance Index","MBA Purchase Index","Mortgage Applications","Mortgage Approvals","Mortgage Rate","Nahb Housing Market Index","Nationwide Housing Prices","New Home Sales","New Home Sales MoM","Pending Home Sales","Pending Home Sales MoM","Private House Approvals","RICS House Price Balance"]},{title:o.t(null,{context:"symbol_filter"},n(572669)),value:"labor",
indicators:["Adp Employment Change","Average Earnings Excluding Bonus","Average Hourly Earnings","Average Hourly Earnings YoY","Average Weekly Hours","Challenger Job Cuts","Claimant Count Change","Continuing Jobless Claims","Employed Persons","Employment Change","Employment Cost Index","Employment Cost Index Benefits","Employment Cost Index Wages","Full Time Employment","Government Payrolls","Harmonised Unemployment Rate","Initial Jobless Claims","Job Advertisements","Job Offers","Job Quits","Job Vacancies","Jobless Claims 4-week Average","Jobs To Applications Ratio","Labor Force Participation Rate","Labor Market Conditions Index","Labour Costs","Manufacturing Payrolls","Non Farm Payrolls","Nonfarm Payrolls Private","Overtime Pay YoY","Part Time Employment","Productivity","Registered Jobless Rate","Unemployed Persons","Unemployment Change","Unemployment Rate","Wage Growth"]},{title:o.t(null,{context:"symbol_filter"},n(230023)),value:"markets",indicators:["1 Month Bill Yield","10 Year TIPS Yield","119-Day Bill Yield","12 Month Bill Yield","15 Year Bond Yield","2 Year Bond Yield","2 Year FRN Yield","2 Year Note Yield","20 Year bond Yield","3 Month Bill Yield","3 Year Note Yield","30 Year Bond Yield","30 Year TIPS Yield","4 Week Bill Yield","40 Year Bond Yield","42-Day Bill Yield","5 Year Bond Yield","5 Year Note Yield","5 Year TIPS Yield","50 Year Bond Yield","52 Week Bill Yield","6 Month Bill Yield","7 Year Note Yield","8 Week Bill Yield","Government Bond 10Y"]},{title:o.t(null,{context:"symbol_filter"},n(402659)),value:"money",indicators:["1 Year MLF Rate","Banks Balance Sheet","Cash Reserve Ratio","Deposit Interest Rate","Fixed Asset Investment","Foreign Bond Investment","Foreign Exchange Reserves","Foreign Stock Investment","Interest Rate","Investment In Foreign Securities","Lending Rate","Loan Growth","Loan Prime Rate 5Y","Loans to Private Sector","Money Supply M1","Money Supply M2","Money Supply M3","Reverse Repo Rate"]},{title:o.t(null,{context:"symbol_filter"},n(945842)),value:"prices",
indicators:["Baden Wuerttemberg CPI YoY","Bavaria CPI YoY","Brandenburg CPI YoY","Commodity Prices YoY","Consumer Price Index CPI","Core Consumer Prices","Core Inflation Rate","Core PCE Price Index Annual Change","Core PCE Price Index MoM","Core PCE Prices QoQ","Core Producer Prices MoM","Core Producer Prices YoY","CPI Core Core","CPI Median","CPI Trimmed-Mean","Export Prices","Export Prices MoM","Export Prices YoY","Food Inflation","Food Price Index","GDP Deflator","Harmonised Consumer Prices","Harmonised Inflation Rate MoM","Harmonised Inflation Rate YoY","Hesse CPI YoY","IGP-M Inflation MoM","Import Prices","Import Prices MoM","Import Prices YoY","Inflation Expectations","Inflation Rate","Inflation Rate Mom","IPC-Fipe Inflation MoM","MI Inflation Gauge MoM","Michigan 5 Year Inflation Expectations","Michigan Inflation Expectations","Mid-month Core Inflation Rate MoM","Mid-month Core Inflation Rate YoY","Mid-month Inflation Rate MoM","Mid-month Inflation Rate YoY","Monthly CPI Indicator","North Rhine Westphalia CPI YoY","PCE Price Index Annual Change","PCE Price Index Monthly Change","PCE Prices QoQ","PPI Input","PPI Input YoY","Producer Price Inflation MoM","Producer Prices","Producer Prices Change","Retail Price Index","Saxony CPI YoY","Selling Price Expectations","Tokyo Core CPI","Tokyo Cpi","Tokyo CPI Ex Food and Energy","Trimmed Mean CPI QoQ","Weighted Median CPI QoQ","Weighted Median CPI YoY","Wholesale Prices","Wholesale Prices MoM","Wholesale Prices YoY","WPI Food Index YoY","WPI Food YoY","WPI Fuel YoY","WPI Manufacturing YoY"]},{title:o.t(null,{context:"symbol_filter"},n(199014)),value:"trade",indicators:["Auto Exports","Balance of Trade","Capital Flows","Current Account","Current Account to GDP","Exports","Exports YoY","External Debt","Foreign Direct Investment","Global Dairy Trade Price Index","Goods Trade Balance","Goods Trade Balance Non-EU","Imports","Imports YoY","Net Long-term TIC Flows","Remittances","Terms of Trade","Tourism Revenues","Tourist Arrivals"]},{title:o.t(null,{context:"symbol_filter"},n(580759)),value:"business",
indicators:["All Industry Activity Index","BRC Retail Sales Monitor YoY","Business Climate Indicator","Business Survey Index Large Manufacturing Firms","Coincident Index","Copper Production","Corporate Profits","Crude Oil Imports","Crude Oil Stocks Change","Cushing Crude Oil Stocks","Dallas Fed Services Index","Dallas Fed Services Revenues Index","Deposit Growth","Distillate Fuel Production","Durable Goods Orders","Durable Goods Orders Ex Defense","Durable Goods Orders Ex Transportation","Economy Watchers Survey","Factory Orders","Gasoline Production","Heating Oil Stocks","Ifo Current Conditions","ISM Manufacturing Employment","Ism New York Index","ISM Non Manufacturing Business Activity","Kansas Fed Composite Index","Kansas Fed Manufacturing Index","Leading Economic Index","Machinery Orders","Manufacturing Production","Manufacturing Production MoM","Manufacturing Sales","Mni Business Sentiment","NBS General PMI","New Passenger Car Registrations YoY","Nfib Business Optimism Index","Non Manufacturing PMI","Ny Empire State Manufacturing Index","Philly Fed Business Conditions","Philly Fed New Orders","Philly Fed Prices Paid","Private Investment","Refinery Crude Runs","Reuters Tankan Index","Services PMI","Services Sentiment","Small Business Sentiment","Tankan Large All Industry Capex","Tertiary Industry Index","Total Vehicle Sales","Wholesale Inventories","Wholesale Sales","Zew Current Conditions","API Crude Oil Stock Change","Building Capital Expenditure","Business Confidence","Business Inventories","Capacity Utilization","Car Production","Car Registrations","Cement Production","Chicago Fed National Activity Index","Chicago PMI","Composite PMI","Crude Oil Rigs","Dallas Fed Manufacturing Index","Distillate Stocks","Economy Watchers Survey Outlook","Factory Orders Ex Transportation","Gasoline Stocks Change","Gold Production","Grain Stocks Corn","Grain Stocks Soy","Grain Stocks Wheat","Ifo Expectations","Industrial Production","Industrial Production Mom","Industrial Profits","Industrial Sentiment","Industry Index","ISM Manufacturing New Orders","ISM Manufacturing Prices","ISM Non Manufacturing Employment","ISM Non Manufacturing New Orders","ISM Non Manufacturing Prices","Lmi Logistics Managers Index Current","Machine Tool Orders","Manufacturing PMI","Mining Production","Motorbike Sales","Natural Gas Stocks Change","New Orders","Non Defense Capital Goods Orders Ex Aircraft","Philadelphia Fed Manufacturing Index","Philly Fed CAPEX Index","Philly Fed Employment","Plant Machinery Capital Expenditure","Retail Inventories Ex Autos","Richmond Fed Manufacturing Index","Richmond Fed Manufacturing Shipments","Richmond Fed Services Index","Tankan Large Manufacturing Outlook","Tankan Non-Manufacturing Outlook","Total Rigs","Zew Economic Sentiment Index"]}];var de=n(631110),he=n(211944),pe=n(251836),ge=n(279406),ve=n(483241);const fe={medium:"xsmall",large:"small"};function Ce(e){const{arrowDirection:t="up",onClick:r,hidden:o,className:s,size:l="medium"}=e;return a.createElement(he.RoundButton,{className:i()(o&&ve.hidden,s),
variant:"primary",color:"black",size:fe[l],onClick:r,startIcon:"up"===t?pe:ge},de.t(null,void 0,n(212604)))}var Ie=n(366619),ye=n(267562),Pe=n(398072);const Me={default:{title:o.t(null,void 0,n(964837)),text:o.t(null,void 0,n(85283))},connection:{title:o.t(null,void 0,n(42995)),text:o.t(null,void 0,n(152388))}};function Se(e){const{filter:t,width:r,headerContainer:v,useEconomicCalendarUrl:f,getChartLink:C,getOverviewLink:I,getOpenOnChartCb:P,getAddToCalendarCb:M,maxHistoryInHours:S,maxItems:E,noScroll:x,defaultCurrencyFilterState:F,defaultCountryFilterState:b,onCurrencyFilterChange:R,onCountryFilterChange:w,onImportanceFilterChange:N,onTimezoneFilterChange:Y,isTransparent:T,trackAction:_,HeaderComponent:D,WrapperComponent:z=se,showTableHeader:k,availableTimezones:B,entryCurrency:L,entryCountry:W,className:H,keepHighImportanceLabel:G,hideCategoryFilter:j,scrollOffsetTop:Z=0,enableScrollToUpcomingButton:X=!1,upcomingButtonSize:K,separatorSize:te="medium",forceSmallRetryBlock:ie,showEventHistory:ue}=e,[de,he]=(0,a.useState)(null),pe=(0,l.useFunctionalRefObject)(he),[ge,ve]=(0,a.useState)("hidden"),[fe,Se]=(0,a.useState)(null),Ee=(0,a.useRef)(null),xe=function(e){const[t,n]=(0,a.useState)(e.value());return(0,a.useEffect)((()=>{const t=e=>{for(const t of J)if(e>=t){n(t);break}};return e.subscribe(t),()=>e.unsubscribe(t)}),[]),t}(r),Fe=(0,ne.getSeparatorHeight)(te),be=xe>=768,Re=xe>=568,[we,Ne]=(0,a.useState)(me()[0]),{items:Ye,localTimezoneItem:Te}=ce(B),{items:_e,handleFilterChange:De,activeFilters:ze,handleLoadMore:ke,handleRetry:Be,errorType:Le,loadingStatus:Oe,isHistoryEnd:We}=function(e){const{useEconomicCalendarUrl:t,initialState:n,onCurrencyFilterChange:r,onCountryFilterChange:i,onImportanceFilterChange:o,onTimezoneFilterChange:s,maxHistoryInHours:l,maxItems:c}=e,[u,m]=(0,a.useState)([]),[d,h]=(0,a.useState)(n),[p,g]=(0,a.useState)("initialLoading"),[v,f]=(0,a.useState)(!1),[C,I]=(0,a.useState)(navigator.onLine?null:"connection"),y=(0,a.useRef)(null),P=(0,a.useRef)(!0),M=(0,a.useRef)(null);async function S(e){if(!y.current)return g("ready"),P.current=!1,Promise.resolve();if(!navigator.onLine)return I("connection"),Promise.resolve();try{I(null),P.current=!0,g(e),await y.current.requestMore(),x(),g("ready"),P.current=!1}catch(e){if((0,O.isAbortError)(e))return;I(navigator.onLine?"default":"connection"),x(),g("ready"),P.current=!1}}function E(){var e;f(!1);const t=b();return null===(e=y.current)||void 0===e||e.reset(t),S("initialLoading")}function x(){var e;if(!y.current)return;const t=null!==(e=[...y.current.items()].reverse())&&void 0!==e?e:[];m(void 0!==c&&t.length>c?t.slice(0,c):t)}function F(e,t){const n={...d};n[e]=t,h(n)}function b(){var e;const t=d[Q.FilterField.Currencies],n=d[Q.FilterField.Countries];return{...$(d[Q.FilterField.DateRange],l,null===(e=d[Q.FilterField.Timezone])||void 0===e?void 0:e.offset),minImportance:d[Q.FilterField.Importance]?1:void 0,currencyFilter:t.length?t:void 0,countryFilter:n.length?n:void 0}}return(0,a.useEffect)((()=>{f(!1);const e=b();y.current=new U.ChartEvents(e,t)
;const n=e=>{(e.noResults||!e.added.length&&!e.changed.length)&&f(!0),P.current||x()};return y.current.changed.subscribe(null,n),()=>{var e,t;null===(e=y.current)||void 0===e||e.changed.unsubscribe(null,n),null===(t=y.current)||void 0===t||t.destroy(),M.current=null,y.current=null}}),[t]),(0,a.useEffect)((()=>{var e;E();const t=()=>{var e;return null===(e=y.current)||void 0===e?void 0:e.refreshData()};return null===(e=y.current)||void 0===e||e.reconnected.subscribe(null,t),()=>{var e;return null===(e=y.current)||void 0===e?void 0:e.reconnected.unsubscribe(null,t)}}),[d]),{items:u,handleFilterChange:function(e,t){switch(e){case Q.FilterField.DateRange:if(d[Q.FilterField.DateRange]===t)return;return void F(Q.FilterField.DateRange,t);case Q.FilterField.Importance:return null==o||o(!0===t?V.true:V.false),void F(Q.FilterField.Importance,t);case Q.FilterField.Currencies:return null==r||r(t),void F(Q.FilterField.Currencies,t);case Q.FilterField.Countries:return null==i||i(t),void F(Q.FilterField.Countries,t);case Q.FilterField.Timezone:return null==s||s(t.id),void F(Q.FilterField.Timezone,t)}},activeFilters:d,handleLoadMore:function(){return"ready"!==p?Promise.resolve():S("additionalLoading")},handleRetry:function(){return E()},loadingStatus:p,isHistoryEnd:v,errorType:C}}({useEconomicCalendarUrl:f,onCurrencyFilterChange:R,onCountryFilterChange:w,onImportanceFilterChange:N,onTimezoneFilterChange:Y,initialState:(0,y.initState)({filter:t,defaultCountryFilterState:b,defaultCurrencyFilterState:F,entryCountry:W,entryCurrency:L,localTimezoneItem:Te,timezoneFilterValues:Ye}),maxHistoryInHours:S,maxItems:E}),He=(0,le.usePrevious)(Oe),Ae=(0,h.useWatchedValueReadonly)({watchedValue:g.watchedTheme})===p.StdTheme.Dark?Ie:ye,Ge=(0,a.useMemo)((()=>{const e=(0,s.ensureDefined)(me().find((e=>e.value===we.value)));return e.indicators.length?_e.filter((t=>{const n=t.indicator.toLowerCase();return e.indicators.some((e=>e.toLowerCase()===n))})):_e}),[_e,we]),Ue=(0,a.useMemo)((()=>{let e=0;const t=new Map;Ge.forEach((e=>{const{timestamp:n}=e;t.has(n)||t.set(n,[]),(0,s.ensureDefined)(t.get(n)).push(e)}));return Array.from(t.values()).map((e=>e.sort(y.sortByName))).flat().map(((t,n)=>{const{timestamp:r}=t,i=n>0?Ge[n-1].timestamp:void 0;n>0&&r!==i&&(e=(0,s.ensureDefined)(i));const o=ze[Q.FilterField.Timezone].offset;return{...t,isFirstOfDay:0===n||!(0,q.isSameDay)((0,y.getDateInTimezone)(r,o),(0,y.getDateInTimezone)(Ge[n-1].timestamp,o)),upcomingTimestamp:e}}))}),[Ge]),qe=(0,oe.useIntersectionObserver)((e=>{const t=e.pop();!(null==t?void 0:t.isIntersecting)||ze[Q.FilterField.DateRange]||We||ke()})),Ve=(0,oe.useIntersectionObserver)((e=>{var t,n;const r=e.pop();if(!r||!X)return;const i=null!==(n=null===(t=pe.current)||void 0===t?void 0:t.getBoundingClientRect().top)&&void 0!==n?n:0;r.isIntersecting?ve("hidden"):r.boundingClientRect.bottom<=i?ve("top"):ve("bottom")}),{root:pe,rootMargin:"500px 0px"},[null!==de]),Qe=(0,a.useCallback)((e=>{const t=Date.now(),n=e.find((e=>e.timestamp>t));Se(n||null)}),[Ue]),je=(0,a.useCallback)((()=>{var e;ve("hidden"),
fe&&Ee.current&&(pe.current?pe.current.scrollTop=pe.current.offsetTop+Ee.current.offsetTop-Fe-Z+1:document.documentElement.scrollTop+=(null===(e=Ee.current)||void 0===e?void 0:e.getBoundingClientRect().top)-Fe-Z+1)}),[fe,Fe,Z,Ee]);function Ze(){return X?a.createElement("div",{className:i()(Pe.upcomingButtonContainer,"bottom"===ge&&Pe.bottom),style:{"--calendar-separator-height":`${Fe}px`}},a.createElement(Ce,{arrowDirection:"top"===ge?"up":"down",className:Pe.upcomingButton,onClick:je,hidden:"hidden"===ge,size:K})):null}return(0,a.useLayoutEffect)((()=>{Qe(Ue)}),[Ue,Qe]),(0,a.useLayoutEffect)((()=>{"initialLoading"===He&&(ve("hidden"),x||je())}),[je,fe,Ee,pe,He,Oe,x]),a.createElement("div",{className:Pe.container},a.createElement(D,{className:T&&Pe.transparentHeader,isHighImportance:ze[Q.FilterField.Importance],onImportanceChange:e=>De(Q.FilterField.Importance,e),selectedDateRange:ze[Q.FilterField.DateRange],onDateRangeChange:function(e){De(Q.FilterField.DateRange,e),_&&_(e)},currencies:ze[Q.FilterField.Currencies],countries:ze[Q.FilterField.Countries],onCurrenciesChange:e=>De(Q.FilterField.Currencies,e),onCountriesChange:e=>De(Q.FilterField.Countries,e),container:v,hideCategoryFilter:j,onCategoryChange:Ne,defaultCategory:me()[0],categories:me(),selectedCategory:we,timezones:Ye,selectedTimezone:ze[Q.FilterField.Timezone],defaultTimezone:Ye[0],onTimezoneChange:e=>De(Q.FilterField.Timezone,e),breakpoint:xe,keepHighImportanceLabel:G}),a.createElement("div",{className:i()(Pe.content,H,"initialLoading"===Oe&&Pe.withSpinner)},k&&a.createElement(ee,{breakpoint:xe}),!Le&&a.createElement(a.Fragment,null,"initialLoading"===Oe?a.createElement(m.Spinner,null):a.createElement(a.Fragment,null,Ue.length>0?a.createElement(z,{className:T&&Pe.transparentItemsWrap,scrollContainerRef:pe,itemsLength:Ue.length,loadingStatus:Oe},!x&&!We&&a.createElement("div",{key:`calendar-observer-${Ue.length}`,ref:qe,className:i()(Pe.spinnerContainer,"additionalLoading"!==Oe&&Pe.hidden)},a.createElement(m.Spinner,{size:"mini"})),"top"===ge&&Ze(),Ue.map(((e,t)=>a.createElement(a.Fragment,{key:e.id},e.isFirstOfDay&&a.createElement(re,{date:new Date(e.timestamp),className:i()(!T&&Pe.separator,be&&Pe.tablet),timezone:ze[Q.FilterField.Timezone],size:te}),X&&(null==fe?void 0:fe.id)===e.id&&a.createElement("div",{ref:Ve,className:i()(Pe.timelineDivider,!e.isFirstOfDay&&Pe.visible)}),a.createElement(A,{item:e,upcomingTimestamp:e.upcomingTimestamp,breakpoint:xe,hideTime:be&&0!==t&&e.timestamp===Ue[t-1].timestamp,hideCountry:be&&0!==t&&e.timestamp===Ue[t-1].timestamp&&e.country===Ue[t-1].country,chartLink:null==C?void 0:C(e.ticker),overviewLink:null==I?void 0:I(e.ticker),onOpenOnChart:null==P?void 0:P(e.ticker),onAddToCalendar:null==M?void 0:M(e),trackAction:_,reference:(null==fe?void 0:fe.id)===e.id?Ee:void 0,timezone:ze[Q.FilterField.Timezone],onHappened:(null==fe?void 0:fe.id)===e.id?()=>Qe(Ue):void 0,showEventHistory:ue})))),"bottom"===ge&&Ze()):a.createElement(ae.OverlayScrollWrapper,{className:Pe.scrollWrapper},a.createElement(d.ContentIsNotFound,{
className:Pe.noContent,icon:Ae,description:o.t(null,void 0,n(647672))})))),a.createElement(ae.OverlayScrollWrapper,{className:i()(Pe.retryBlockWrap,!Le&&Pe.hide,ie&&Pe.smallRetryBlock)},a.createElement(u.EmptyStateBlock,{title:Le?Me[Le].title:void 0,text:Le?Me[Le].text:void 0,iconClass:Pe.iconRetry,textSize:Re?"large":"normal",titleSize:ie?"normal":"large",action:a.createElement(c.SquareButton,{color:"black",size:ie?"small":"large",stretch:!Re&&!ie,onClick:Be},o.t(null,void 0,n(816806)))}))))}},947575:(e,t,n)=>{"use strict";n.d(t,{FilterField:()=>r});var r;!function(e){e.Importance="importance",e.DateRange="daterange",e.Currencies="currencies",e.Countries="countries",e.Timezone="timezone"}(r||(r={}))},69759:(e,t,n)=>{"use strict";n.d(t,{EMPTY_VALUE:()=>l,formatValue:()=>c,getAddToCalendarCb:()=>a,getCountryNameByCountryCode:()=>s,getCurrentTimezoneOffset:()=>p,getDateInTimezone:()=>d,getEconomicsChartPagePath:()=>u,getRelativeTimezoneOffset:()=>h,initState:()=>g,sortByName:()=>m});var r=n(566111),i=n(947575),o=n(870160);function a(e){return()=>{if(!e)return;const t={title:e.title,details:e.comment,startDate:e.timestamp},n=(0,r.createGoogleCalendarUrl)(t);window.open(n,"_blank")}}const s=e=>{var t;return(null===(t=(0,o.getCountries)().find((t=>t.code===e.toLowerCase())))||void 0===t?void 0:t.name)||e},l="—",c=(e,t)=>null==e?l:(t&&(e+=t),e);function u(e){return`/chart/?symbol=${encodeURIComponent(["ECONOMICS",e].join(":"))}`}function m(e,t){const n=e.title.toLowerCase(),r=t.title.toLowerCase();return n<r?-1:n>r?1:0}function d(e,t){return new Date(e+h(t))}function h(e){return void 0===e?0:e-p()}function p(){return-60*(new Date).getTimezoneOffset()*1e3}function g(e){var t;const{filter:n,defaultCurrencyFilterState:r,defaultCountryFilterState:o,localTimezoneItem:a,entryCurrency:s,entryCountry:l,timezoneFilterValues:c}=e,u=n.value(),m=null!=r?r:[],d=null!=o?o:[];return null===u?{[i.FilterField.Importance]:!1,[i.FilterField.DateRange]:void 0,[i.FilterField.Currencies]:m,[i.FilterField.Countries]:d,[i.FilterField.Timezone]:a}:{[i.FilterField.Importance]:v(u.importanceFilter),[i.FilterField.DateRange]:u.dateRangeFilter,[i.FilterField.Currencies]:void 0===u.currencyFilter||s?m:u.currencyFilter,[i.FilterField.Countries]:void 0===u.countryFilter||l?d:u.countryFilter,[i.FilterField.Timezone]:null!==(t=c.find((e=>e.id===u.timezoneFilter)))&&void 0!==t?t:a}}function v(e){return void 0!==e&&-1===e.indexOf(-1)}},725002:(e,t,n)=>{"use strict";n.d(t,{ContentIsNotFound:()=>c});var r=n(50959),i=n(497754),o=n.n(i),a=n(79205),s=n(938886),l=n(770722);function c(e){const{className:t,icon:n,title:i,description:c,buttonText:u,buttonAction:m}=e;return r.createElement("div",{className:o()(l.container,t)},n&&r.createElement(a.Icon,{icon:n,className:l.image}),i&&r.createElement("h3",{className:l.title},i),c&&r.createElement("p",{className:l.description},c),u&&m&&r.createElement(s.Button,{onClick:m,className:l.button},u))}},277694:(e,t,n)=>{"use strict";n.d(t,{EmptyStateBlockTitle:()=>s});var r=n(497754),i=n.n(r),o=n(50959),a=n(782430)
;function s(e){const{title:t,tagName:n,titleSize:r}=e,s=n||"strong";return o.createElement(s,{className:i()(a.title,a[`title_${r}`])},t)}},97275:(e,t,n)=>{"use strict";n.d(t,{EmptyStateBlock:()=>s});var r=n(50959),i=n(497754),o=n(277694),a=n(782430);function s(e){return r.createElement("div",{className:i(a.container,e.className)},r.createElement("div",{className:i(a.icon,e.iconClass)}),e.title&&r.createElement(o.EmptyStateBlockTitle,{title:e.title,titleSize:e.titleSize,tagName:e.titleTagName}),e.text&&r.createElement("div",{className:i(a.text,"large"===e.textSize&&a.text_large)},e.text),e.action&&r.createElement("div",{className:a.action},e.action))}},936570:(e,t,n)=>{"use strict";n.d(t,{useCustomTouchScrollAnimation:()=>a});var r=n(50959),i=n(650151),o=n(104415);function a(e){const{scrollContainerRef:t}=e;s({scrollContainerRef:t,direction:0}),s({scrollContainerRef:t,direction:1})}function s(e){const{scrollContainerRef:t,direction:n}=e,o=(0,r.useRef)(null),a=(0,r.useRef)(null),s=(0,r.useRef)(l()),c=(0,r.useRef)(!1),u=(0,r.useRef)({x:0,y:0});function m(e){return 0===n?e.touches[0].clientY:e.touches[0].clientX}function d(e){return 0===n?e.scrollTop:e.scrollLeft}function h(e,t){0===n?e.scrollTop=t:e.scrollLeft=t}function p(e){return 0===n?e.scrollHeight-e.clientHeight:e.scrollWidth-e.clientWidth}function g(e){const n=(0,i.ensureNotNull)((0,i.ensureDefined)(t).current);c.current=0===p(n),c.current||(o.current=m(e),u.current={x:e.touches[0].clientX,y:e.touches[0].clientY},s.current=l())}function v(e){if(c.current)return;if(function(e){const t=Math.atan2(e.touches[0].clientY-u.current.y,e.touches[0].clientX-u.current.x),n=Math.abs(t);return n>Math.PI/4&&n<3*Math.PI/4?0:1}(e)!==n)return void(c.current=!0);e.preventDefault();const r=(0,i.ensureNotNull)((0,i.ensureDefined)(t).current),a=m(e),l=a-(0,i.ensureNotNull)(o.current);h(r,d(r)-l),o.current=a;const p=performance.now();(0,i.ensureNotNull)(s.current).addPosition(d(r),p)}function f(){if(c.current)return;const e=performance.now(),n=(0,i.ensureNotNull)((0,i.ensureDefined)(t).current);s.current.start(d(n),e),s.current.finished(e)||(a.current=requestAnimationFrame(C)),o.current=null}function C(e){if(s.current.finished(e))return void I();const n=(0,i.ensureNotNull)((0,i.ensureDefined)(t).current),r=s.current.getPosition(e);h(n,r),r<=0||p(n)<=r?I():a.current=requestAnimationFrame(C)}function I(){a.current&&cancelAnimationFrame(a.current)}(0,r.useEffect)((()=>{const e=null==t?void 0:t.current;return null==e||e.addEventListener("touchstart",g),null==e||e.addEventListener("touchmove",v),null==e||e.addEventListener("touchend",f),null==e||e.addEventListener("touchcancel",f),()=>{null==e||e.removeEventListener("touchstart",g),null==e||e.removeEventListener("touchmove",v),null==e||e.removeEventListener("touchend",f),null==e||e.removeEventListener("touchcancel",f)}}),[t,n]),(0,r.useEffect)((()=>()=>I()),[])}function l(){return new o.KineticAnimation(.2,7,.997,15)}},735686:(e,t,n)=>{"use strict";n.d(t,{useIntersectionObserver:()=>a});var r=n(50959),i=n(316230),o=n(267521)
;function a(e,t={},n=[]){const a=(0,r.useRef)(null),s=(0,r.useRef)(e);s.current=e;const{ref:l=null,...c}=t,u=(0,r.useRef)(c);(0,i.default)(t,u.current)||(u.current=t);const m=(0,o.useFunctionalRefObject)(l),d=(0,r.useCallback)((e=>{m(e),null!==a.current&&(a.current.disconnect(),null!==e&&a.current.observe(e))}),[m,a]);return(0,r.useEffect)((()=>{var e,t;return a.current=new IntersectionObserver(((e,t)=>s.current(e,t)),{...u.current,root:null===(t=null===(e=u.current)||void 0===e?void 0:e.root)||void 0===t?void 0:t.current}),m.current&&d(m.current),()=>{var e;null===(e=a.current)||void 0===e||e.disconnect()}}),[m,u.current,...n]),d}},445343:(e,t,n)=>{"use strict";n.d(t,{useOverlayScroll:()=>l});var r=n(50959),i=n(650151),o=n(962624),a=n(638456);const s={onMouseOver:()=>{},onMouseOut:()=>{}};function l(e,t=a.CheckMobile.any()){const n=(0,r.useRef)(null),l=e||(0,r.useRef)(null),[c,u]=(0,o.useHover)(),[m,d]=(0,r.useState)({reference:n,containerHeight:0,containerWidth:0,contentHeight:0,contentWidth:0,scrollPosTop:0,scrollPosLeft:0,onVerticalChange:function(e){d((t=>({...t,scrollPosTop:e}))),(0,i.ensureNotNull)(l.current).scrollTop=e},onHorizontalChange:function(e){d((t=>({...t,scrollPosLeft:e}))),(0,i.ensureNotNull)(l.current).scrollLeft=e},visible:c}),h=(0,r.useCallback)((()=>{if(!l.current)return;const{clientHeight:e,scrollHeight:t,scrollTop:r,clientWidth:i,scrollWidth:o,scrollLeft:a}=l.current,s=n.current?n.current.offsetTop:0;d((n=>({...n,containerHeight:e-s,contentHeight:t-s,scrollPosTop:r,containerWidth:i,contentWidth:o,scrollPosLeft:a})))}),[]);function p(){d((e=>({...e,scrollPosTop:(0,i.ensureNotNull)(l.current).scrollTop,scrollPosLeft:(0,i.ensureNotNull)(l.current).scrollLeft})))}return(0,r.useEffect)((()=>{c&&h(),d((e=>({...e,visible:c})))}),[c]),(0,r.useEffect)((()=>{const e=l.current;return e&&e.addEventListener("scroll",p),()=>{e&&e.removeEventListener("scroll",p)}}),[l]),[m,t?s:u,l,h]}},443549:(e,t,n)=>{"use strict";n.d(t,{Spinner:()=>r.Spinner});var r=n(818612)},104415:(e,t,n)=>{"use strict";n.d(t,{KineticAnimation:()=>a});var r=n(650151);function i(e,t){return e.position-t.position}function o(e,t,n){const r=(e.position-t.position)/(e.time-t.time);return Math.sign(r)*Math.min(Math.abs(r),n)}class a{constructor(e,t,n,r){this._position1=null,this._position2=null,this._position3=null,this._position4=null,this._animationStartPosition=null,this._durationMsecs=0,this._speedPxPerMsec=0,this._minSpeed=e,this._maxSpeed=t,this._dumpingCoeff=n,this._minMove=r}addPosition(e,t){if(null!==this._position1){if(this._position1.time===t)return void(this._position1.position=e);if(Math.abs(this._position1.position-e)<this._minMove)return}this._position4=this._position3,this._position3=this._position2,this._position2=this._position1,this._position1={time:t,position:e}}start(e,t){if(null===this._position1||null===this._position2)return;if(t-this._position1.time>50)return;let n=0;const r=o(this._position1,this._position2,this._maxSpeed),a=i(this._position1,this._position2),s=[r],l=[a];if(n+=a,null!==this._position3){
const e=o(this._position2,this._position3,this._maxSpeed);if(Math.sign(e)===Math.sign(r)){const t=i(this._position2,this._position3);if(s.push(e),l.push(t),n+=t,null!==this._position4){const e=o(this._position3,this._position4,this._maxSpeed);if(Math.sign(e)===Math.sign(r)){const t=i(this._position3,this._position4);s.push(e),l.push(t),n+=t}}}}let c=0;for(let e=0;e<s.length;++e)c+=l[e]/n*s[e];Math.abs(c)<this._minSpeed||(this._animationStartPosition={position:e,time:t},this._speedPxPerMsec=c,this._durationMsecs=function(e,t){const n=Math.log(t);return Math.log(1*n/-e)/n}(Math.abs(c),this._dumpingCoeff))}getStartPosition(){return(0,r.ensureNotNull)(this._animationStartPosition).position}getPosition(e){const t=(0,r.ensureNotNull)(this._animationStartPosition),n=e-t.time;return t.position+this._speedPxPerMsec*(Math.pow(this._dumpingCoeff,n)-1)/Math.log(this._dumpingCoeff)}finished(e){return null===this._animationStartPosition||this._progressDuration(e)===this._durationMsecs}_progressDuration(e){const t=e-(0,r.ensureNotNull)(this._animationStartPosition).time;return Math.min(t,this._durationMsecs)}}},627492:(e,t,n)=>{"use strict";n.d(t,{ChartEvents:()=>I});var r=n(316230),i=n(650151),o=n(120780),a=n(405069),s=n(175203),l=n(201089),c=n(707957),u=n(870160),m=n(944454);const d=(0,l.getLogger)("ReutersCalendar");function h(e){return new Date(e).toISOString()}function p(e){return e.forEach((e=>{e.timestamp=Date.parse(e.date)})),e}const g=6e5,v=3e4,f=3e4;function C(e,t,n,o){var a;const s=[],l=[];let c=0,u=0;const m=[],d={},h=new Set;for(t.length>0&&e.forEach((e=>h.add(e.id)));(u<e.length||c<t.length)&&m.length<=o;){const o=u<e.length?e[u]:null,p=c<t.length?t[c]:null;if(null!==p&&h.has(p.id))c+=1;else if(null!==o&&o.timestamp>=(null!==(a=null==p?void 0:p.timestamp)&&void 0!==a?a:-1/0)){const e=n[o.id];e?(0,r.default)(e,o)||l.push(e):s.push(o),m.push(o),d[o.id]=o,u+=1}else{const e=(0,i.ensureNotNull)(p);m.push(e),d[e.id]=e,c+=1}}return{itemsById:d,mergedItems:m,addedItems:s,changedItems:l}}class I{constructor(e,t=!1){if(this.changed=new c.Delegate,this.reconnected=new c.Delegate,this._pendingRequestMoreResult=null,this._pendingRequestRefreshResult=null,this._prevConnectionStatus=null,this._disconnectTimestamp=null,this._pushstreamHandler=e=>{const t=this._mergeItems(p([].concat(e)).sort(((e,t)=>t.timestamp-e.timestamp)));(t.changed.length||t.added.length)&&this.changed.fire(t)},this._onPushStreamStatus=e=>{const t=Date.now();if(e===m.ConnectionStatus.Open&&this._prevConnectionStatus===m.ConnectionStatus.Closed){this._prevConnectionStatus=e;const n=null===this._disconnectTimestamp?0:t-this._disconnectTimestamp;if(!window.is_authenticated)return;if(n<g)return;this._reconnectTimeout=setTimeout((()=>{this.reconnected.fire()}),Math.random()*f+v)}else e===m.ConnectionStatus.Closed&&(this._disconnectTimestamp=Date.now(),this._prevConnectionStatus=e,clearTimeout(this._reconnectTimeout))},!(this instanceof I))throw new Error("ChartEvents is a constructor");this._useEconomicCalendarUrl=t,
this._pushstream=this._useEconomicCalendarUrl?"economic-calendar":"chartevents-reuters",this._useEconomicCalendarUrl?this._url=window.ECONOMIC_CALENDAR_URL+"events":this._url=window.CHARTEVENTS_URL?window.CHARTEVENTS_URL+"events":"/chartevents/",this.reset(e),a.pushStreamMultiplexer.on(this._pushstream,this._pushstreamHandler),a.pushStreamMultiplexer.onPrivateStatus(this._onPushStreamStatus)}get defaultSelectionTimeAmount(){return 6048e5}items(){return this._filter?this._filter(this._items):this._items}reset(e){var t,n,r,i;null===(t=this._pendingRequestMoreResult)||void 0===t||t.abort(),null===(n=this._pendingRequestRefreshResult)||void 0===n||n.abort(),this._pendingRequestMoreResult=null,this._pendingRequestRefreshResult=null,this._items=[],this._itemsById={},this.minObtainedTimestamp=1/0,this._noResults=!1,e&&null!=e.from?this.from=Number(e.from):this.from=Date.now()-864e5,this._historyLimit=e&&e.historyLimit,this._maxItems=1/0,e&&void 0!==e.maxItems&&e.maxItems>0&&(this._maxItems=+e.maxItems),e&&null!=e.to?this.to=e.to:this.to=this.from+this.defaultSelectionTimeAmount,this.initialFrom=this.from=this.cacheFriendlyTimestamp(this.from),this.initialTo=this.to=this.cacheFriendlyTimestamp(this.to),this._filter=e?e.filter:void 0,this.currenciesFilter=null!==(r=null==e?void 0:e.currencyFilter)&&void 0!==r?r:[],this.countriesFilter=null!==(i=null==e?void 0:e.countryFilter)&&void 0!==i?i:[],this._useEconomicCalendarUrl||(this.countriesFilter=(0,u.getReutersCountryCodes)(this.countriesFilter)),e&&void 0!==e.minImportance&&isFinite(+e.minImportance)?this.minImportance=Math.max(-1,Math.min(1,Math.floor(e.minImportance))):this.minImportance=-1}cacheFriendlyTimestamp(e){return e-e%36e5}requestMore(e){if(this._pendingRequestMoreResult&&!this._pendingRequestMoreResult.ready)return this._pendingRequestMoreResult.promise;if(isFinite(this.minObtainedTimestamp)&&void 0!==this._historyLimit&&Number(new Date(this.from))<this._historyLimit&&(this._noResults=!0),this._items.length>=this._maxItems&&(this._noResults=!0),this._noResults)return Promise.resolve({added:[],changed:[],noResults:!0});isFinite(this.minObtainedTimestamp)&&(this.to=this.from,this.from=this.from-this.defaultSelectionTimeAmount),e&&e.from&&e.from<this.minObtainedTimestamp&&(this.from=this.cacheFriendlyTimestamp(e.from),isFinite(this.minObtainedTimestamp)&&(this.initialFrom=this.from));const t=this._getRequestData(this.from,this.to);return this._pendingRequestMoreResult=t,t.promise.then((()=>{this.initialFrom=this.from})).catch((()=>null)),t.promise}refreshData(){this._pendingRequestMoreResult&&!this._pendingRequestMoreResult.ready&&this.initialFrom===this.from&&this.initialTo===this.to||!this._pendingRequestMoreResult||this._refreshDataResult()}destroy(){a.pushStreamMultiplexer.off(this._pushstream,this._pushstreamHandler),a.pushStreamMultiplexer.offStatus(this._onPushStreamStatus),this._items=[],this.reset(),clearTimeout(this._reconnectTimeout),this._prevConnectionStatus=null}_refreshDataResult(){
if(this._pendingRequestRefreshResult&&!this._pendingRequestRefreshResult.ready&&this._pendingRequestRefreshResult.abort(),!this._disconnectTimestamp)return;const e=Math.max(this.cacheFriendlyTimestamp(this._disconnectTimestamp-1296e6),this.initialFrom),t=Math.min(this.cacheFriendlyTimestamp(this._disconnectTimestamp+2592e6),this.initialTo);this._pendingRequestRefreshResult=this._getRequestData(e,t,!1)}_getRequestData(e,t,n=!0){var r;const i=new URL(this._url);-1!==this.minImportance&&i.searchParams.set("minImportance",this.minImportance.toString()),i.searchParams.set("from",h(e)),i.searchParams.set("to",h(t)),(null===(r=this.countriesFilter)||void 0===r?void 0:r.length)?i.searchParams.set("countries",this.countriesFilter.toString().toUpperCase()):this.currenciesFilter.length&&i.searchParams.set("currencies",this.currenciesFilter.toString().toUpperCase());const o=new AbortController,a=this._requestDataImpl(i,o.signal),s={promise:a,ready:!1,abort:()=>o.abort()};return a.then((e=>{s.ready=!0,(n||e.changed.length||e.added.length)&&this.changed.fire(e)})).catch((e=>{var t;s.ready=!0,t=e,d.logWarn(`An error ocurred while loading economic events: ${t}`)})),s}_mergeItems(e){const t=this._noResults,n=new Set(this.currenciesFilter),r=new Set(this.countriesFilter),i=e.filter((e=>{var t;return(-1===this.minImportance||this.minImportance<=(null!==(t=e.importance)&&void 0!==t?t:1/0))&&(0===n.size||n.has(e.currency.toUpperCase()))&&(0===r.size||r.has(e.country.toLowerCase()))&&(void 0===this._historyLimit||e.timestamp>=this._historyLimit)})),{itemsById:o,mergedItems:a,addedItems:s,changedItems:l}=C(i,this._items,this._itemsById,this._maxItems);return this._items=a,this._itemsById=o,{added:s,changed:l,noResults:t}}async _requestDataImpl(e,t){let n=await this._requestOneChunk(e,t),r=n.items,i=n.noData;for(;2e3===n.items.length;){const o=new Date(r[0].date);e.searchParams.set("from",h(o.getTime()+1)),n=await this._requestOneChunk(e,t),r=C(n.items,r,{},1/0).mergedItems,i=i||n.noData}return this.minObtainedTimestamp=this.from,i&&(this._noResults=!0,this.minObtainedTimestamp=-1/0),this._mergeItems(r)}async _requestOneChunk(e,t){var n;const r=Date.now(),i=await(0,o.fetch)(e.toString(),{headers:{accept:"application/json"},signal:t}),a=Date.now()-r;if(s.telemetry.sendReport("calendars","chartevents_http_status",{value:i.status,additional:{source:"ChartEvents"}}),s.telemetry.sendReport("calendars","chartevents_response_time_frame",{value:a,additional:{source:"ChartEvents"}}),!i.ok)throw new Error(`Request ${e.toString()}, status: ${i.status}, status text: ${i.statusText}`);const l=await i.json();if(!l||!l.status||"error"===l.status)throw s.telemetry.sendReport("calendars","chartevents_error"),new Error(l&&l.errmsg||"invalid response");s.telemetry.sendReport("calendars","chartevents_ok");return{items:p(null!==(n=l.result)&&void 0!==n?n:[]).reverse(),noData:"no_data"===l.status}}}},566111:(e,t,n)=>{"use strict";var r;function i(e){const t=function(e){const t=e=>new Date(e).toISOString().replace(/[-:.]/g,""),n=t(e.startDate);let r
;r=e.endDate?t(e.endDate):n;const i={action:"TEMPLATE",text:e.title,dates:n+"/"+r};void 0!==e.ctz&&(i.ctz=e.ctz);void 0!==e.details&&(i.details=e.details);void 0!==e.location&&(i.location=e.location);void 0!==e.crm&&(i.crm=e.crm);return i}(e);return`https://www.google.com/calendar/render?${new URLSearchParams(Object.entries(t)).toString()}`}n.d(t,{createGoogleCalendarUrl:()=>i}),function(e){e.Available="AVAILABLE",e.Busy="BUSY",e.Blocking="BLOCKING"}(r||(r={}))},195998:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="var(--stats-icon-color-1, currentColor)" d="M4 9h1a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1Z"/><path fill="var(--stats-icon-color-2, currentColor)" d="M9 6H8a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1Z"/><path fill="var(--stats-icon-color-3, currentColor)" d="M13 3h-1c-.55 0-1 .41-1 .92v10.16c0 .5.45.92 1 .92h1c.55 0 1-.41 1-.92V3.92c0-.5-.45-.92-1-.92Z"/></svg>'},279406:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M15.25 7v12.4l4.77-3.98.96 1.16-6.48 5.4-6.48-5.4.96-1.16 4.77 3.98V7h1.5Z"/></svg>'},251836:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="m14.5 6.02 6.48 5.4-.96 1.16-4.77-3.98V21h-1.5V8.6l-4.77 3.98-.96-1.16 6.48-5.4Z"/></svg>'},887778:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M23.85 9.65c.2.2.2.5 0 .7l-7.5 7.5a.5.5 0 0 1-.73-.03l-4.65-5.58-6.12 6.11a.5.5 0 0 1-.7-.7l6.5-6.5a.5.5 0 0 1 .73.03l4.65 5.58 7.12-7.11c.2-.2.5-.2.7 0Z"/></svg>'},221233:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M8 7h3a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zM6 8c0-1.1.9-2 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V8zm11-1h3a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm-2 1c0-1.1.9-2 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-3a2 2 0 0 1-2-2V8zm-4 8H8a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1zm-3-1a2 2 0 0 0-2 2v3c0 1.1.9 2 2 2h3a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H8zm9 1h3a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1zm-2 1c0-1.1.9-2 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-3a2 2 0 0 1-2-2v-3z"/></svg>'},366619:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="120" height="120"><path fill="#B2B5BE" fill-rule="evenodd" d="M23 39a36 36 0 0 1 72 0v13.15l15.1 8.44 2.16 1.2-1.64 1.86-12.85 14.59 3.73 4.03L98.57 85 95 81.13V117H77v-12H67v9H50V95H40v22H23V81.28l-3.8 3.61-2.76-2.9 4.05-3.84-12.77-14.5-1.64-1.86 2.16-1.2L23 52.34V39Zm72 36.33 10.98-12.46L95 56.73v18.6ZM23 56.92v18.03L12.35 62.87 23 56.92ZM59 7a32 32 0 0 0-32 32v74h9V91h18v19h9v-9h18v12h10V39A32 32 0 0 0 59 7Zm-7 36a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm19 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></svg>'},267562:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="120" height="120"><path fill="#131722" fill-rule="evenodd" d="M23 39a36 36 0 0 1 72 0v13.15l15.1 8.44 2.16 1.2-1.64 1.86-12.85 14.59 3.73 4.03L98.57 85 95 81.13V117H77v-12H67v9H50V95H40v22H23V81.28l-3.8 3.61-2.76-2.9 4.05-3.84-12.77-14.5-1.64-1.86 2.16-1.2L23 52.34V39Zm72 36.33 10.98-12.46L95 56.73v18.6ZM23 56.92v18.03L12.35 62.87 23 56.92ZM59 7a32 32 0 0 0-32 32v74h9V91h18v19h9v-9h18v12h10V39A32 32 0 0 0 59 7Zm-7 36a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm19 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></svg>'},915270:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M1.5 8V6.5m7.5 9h5.5a2 2 0 0 0 2-2v-7m-15 0v-2c0-1.1.9-2 2-2h11a2 2 0 0 1 2 2v2m-15 0h15"/><path fill="currentColor" d="M5 1h1v3H5V1zM12 1h1v3h-1V1z"/><path stroke="currentColor" d="M0 12.5h7.5m0 0L4 16m3.5-3.5L4 9"/></svg>'}}]);